function EatCookie(e,t){var n,i=GetCookie(e);null!=i&&0<(i=i.split("|")).length&&(n=i.indexOf(t),-1!=(n=i.indexOf(t)))&&(i.splice(n,1),BakeCookie(e,i.join("|")))}function EmptyCookieJar(e){var t="";-1!==document.domain.indexOf("unisa.edu.au")&&(t=";domain=unisa.edu.au"),document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"+t+";path=/;"}function CheckCookieIngredients(e){return/^\d{1,6}-\d{1,6}\[[A-Z].+\](0|1|2|3|4)$/.test(e)}function CheckRVCookieIngredients(e){return/^[a-z-]+\[[A-Z].+\](0|1|2|3|4)$/.test(e)}function SetFavourite(e){MakeCookie("UniSADegreeFavourites",e,9)}function SetCompare(e){MakeCookie("UniSADegreeCompare",e,9)}function SetVisited(e){MakeCookie("_usaRV",e,6)}function MakeCookie(e,t,n){var i,o,r=("_usaRV"==e?CheckRVCookieIngredients:CheckCookieIngredients)(t),s=GetCookie(e);null!=s?0<(i=s.split("|")).length&&(o=t.split("[")[0],-1==s.indexOf(o)&&r&&(i.length<n||i.pop(),i.unshift(t)),BakeCookie(e,i.join("|"))):r&&BakeCookie(e,t)}function BakeCookie(e,t,n){null==n&&(n=1);var i=new Date,i=(i.setMonth(i.getMonth()+n),"unisa.edu.au");-1==document.domain.indexOf("unisa.edu.au")&&(i=""),Cookies.set(e,t,{domain:i,expires:365,sameSite:"Lax"})}function SetRecentlyVisitedDegrees(e,t){var n=new Date;n.setMonth(n.getMonth()+1),document.cookie="UniSARecentlyVisitedDegrees="+t+";expires="+n+";path=/;samesite=Lax"}function GetCookie(e){e=new RegExp(e+"=([^;]+)").exec(document.cookie);return null!=e?unescape(e[1]):null}function AcceptCookies(){BakeCookie("unisa_cookie_accept","true",6)}function CheckCookieMessage(){var e;null==GetCookie("unisa_cookie_accept")&&null!=(e=document.getElementById("cookieMessage"))&&(e.style.display="block")}function setFavouriteState(){$(".favourite-button").each(function(){$(this).attr("active","false");var e=$(this).data("cookie"),t=GetCookie("UniSADegreeFavourites");null!=t&&0<(t=t.split("|")).length&&-1!=t.indexOf(e)&&$(this).attr("active","true")})}function setCompareState(){var n=!1;return $(".cta-block .compare-button-fav").each(function(){var e=$(this).data("cookie-piece"),t=GetCookie("UniSADegreeCompare");null!=t&&0<(t=t.split("|")).length&&-1!=t.indexOf(e)&&($(this).attr("active","true"),n=!0)}),$(".comparison-slider .slider-cell").length<4&&$(".comparison-slider").addClass("no-buttons"),n?$("#compare-all-selected-text").text("Compare selected degrees"):$("#compare-all-selected-text").text("Compare all degrees"),n}function setHeaderNumber(e,t){var n=0;return parseInt($(e).text())&&(n=parseInt($(e).text())),((n+=t)<=0||null==n)&&($(e).hide(),$(e).html(n)),0<n&&($(e).show(),$(e).html(n)),n}!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ally=e()}(function(){return function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,j){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e){return e&&"object"===(void 0===e?"undefined":qe(e))&&"default"in e?e.default:e}function t(e){return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>"}function n(e,t,n){var i=t;if(!i.focus)try{HTMLElement.prototype.focus.call(i)}catch(e){ut(i)}return n.activeElement===t}function B(){At.warn("trying to focus inert element",this)}function R(e,t){E({element:e,attribute:"aria-disabled",temporaryValue:t?"true":void 0}),i=e,(n=t)?(n=w(i),E({element:i,attribute:"tabindex",temporaryValue:"-1",saveValue:null!==n?n:""})):E({element:i,attribute:"tabindex"}),n=e,t?n.focus=B:delete n.focus,i=e,(n=t)?(n=i.style.pointerEvents||"",i.setAttribute("data-inert-pointer-events",n),i.style.pointerEvents="none"):(n=i.getAttribute("data-inert-pointer-events"),i.removeAttribute("data-inert-pointer-events"),i.style.pointerEvents=n);var n,i=e.nodeName.toLowerCase();"video"!==i&&"audio"!==i||Je({element:e,attribute:"controls",remove:t}),"svg"!==i&&!e.ownerSVGElement||(kt.focusSvgFocusableAttribute?E({element:e,attribute:"focusable",temporaryValue:t?"false":void 0}):kt.focusSvgTabindexAttribute||"a"!==i||Je({element:e,attribute:"xlink:href",remove:t})),t?e.setAttribute("data-ally-disabled","true"):e.removeAttribute("data-ally-disabled")}function H(e,t){return Mt||(n=e,Ot.some(function(e){return!!n[e]&&(Mt=e,!0)})),e[Mt](t);var n}function G(e){e=e.webkitUserModify||"";return Boolean(e&&-1!==e.indexOf("write"))}function q(e){return[e.getPropertyValue("overflow"),e.getPropertyValue("overflow-x"),e.getPropertyValue("overflow-y")].some(function(e){return"auto"===e||"scroll"===e})}function V(e){return-1<e.display.indexOf("flex")}function U(e,t,n,i){return("div"===t||"span"===t)&&(!n||"div"===n||"span"===n||q(i))&&(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)}function W(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,e=e.except,e=void 0===e?{flexbox:!1,scrollable:!1,shadow:!1}:e,t=(S=S||x(),c({label:"is/focus-relevant",resolveDocument:!0,context:t}));if(!e.shadow&&t.shadowRoot)return!0;var n=t.nodeName.toLowerCase();if("input"!==n||"hidden"!==t.type){if("input"===n||"select"===n||"button"===n||"textarea"===n)return!0;if("legend"===n&&S.focusRedirectLegend)return!0;if("label"===n)return!0;if("area"===n)return!0;if("a"===n&&t.hasAttribute("href"))return!0;if("object"!==n||!t.hasAttribute("usemap")){if("object"===n){var i=t.getAttribute("type");if(!S.focusObjectSvg&&"image/svg+xml"===i)return!1;if(!S.focusObjectSwf&&"application/x-shockwave-flash"===i)return!1}if("iframe"===n||"object"===n)return!0;if("embed"===n||"keygen"===n)return!0;if(t.hasAttribute("contenteditable"))return!0;if("audio"===n&&(S.focusAudioWithoutControls||t.hasAttribute("controls")))return!0;if("video"===n&&(S.focusVideoWithoutControls||t.hasAttribute("controls")))return!0;if(S.focusSummary&&"summary"===n)return!0;i=Ct(t);if("img"===n&&t.hasAttribute("usemap"))return i&&S.focusImgUsemapTabindex||S.focusRedirectImgUsemap;if(S.focusTable&&("table"===n||"td"===n))return!0;if(S.focusFieldset&&"fieldset"===n)return!0;var o="svg"===n,r=t.ownerSVGElement,s=t.getAttribute("focusable"),a=w(t);if("use"!==n||null===a||S.focusSvgUseTabindex){if("foreignobject"===n)return null!==a&&S.focusSvgForeignobjectTabindex;if(H(t,"svg a")&&t.hasAttribute("xlink:href"))return!0;if(!((o||r)&&t.focus&&!S.focusSvgNegativeTabindexAttribute&&a<0)){if(o)return i||S.focusSvg||S.focusSvgInIframe||Boolean(S.focusSvgFocusableAttribute&&s&&"true"===s);if(r){if(S.focusSvgTabindexAttribute&&i)return!0;if(S.focusSvgFocusableAttribute)return"true"===s}if(i)return!0;a=window.getComputedStyle(t,null);if(G(a))return!0;if(S.focusImgIsmap&&"img"===n&&t.hasAttribute("ismap"))if(C({context:t}).some(function(e){return"a"===e.nodeName.toLowerCase()&&e.hasAttribute("href")}))return!0;if(!e.scrollable&&S.focusScrollContainer)if(S.focusScrollContainerWithoutOverflow){if(U(t,n))return!0}else if(q(a))return!0;if(!e.flexbox&&S.focusFlexboxContainer&&V(a))return!0;o=t.parentElement;if(!e.scrollable&&o){r=o.nodeName.toLowerCase(),s=window.getComputedStyle(o,null);if(S.focusScrollBody&&U(o,n,r,s))return!0;if(S.focusChildrenOfFocusableFlexbox&&V(s))return!0}}}}}return!1}function K(e,t){if(e.findIndex)return e.findIndex(t);var n=e.length;if(0!==n)for(var i=0;i<n;i++)if(t(e[i],i,e))return i;return-1}function $(e){var t,n,e=We(e);if(!e.parent||e.parent===e)return null;try{return e.frameElement||(t=e,jt=jt||Ft("object, iframe"),void 0===t._frameElement&&(t._frameElement=null,n=t.parent.document.querySelectorAll(jt),[].some.call(n,function(e){return Qe(e)===t.document&&(t._frameElement=e,!0)})),t._frameElement)}catch(e){return null}}function z(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}function Z(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,e=e.except,e=void 0===e?{notRendered:!1,cssDisplay:!1,cssVisibility:!1,detailsElement:!1,browsingContext:!1}:e,t=c({label:"is/visible",resolveDocument:!0,context:t}),n=t.nodeName.toLowerCase();if(e.notRendered||!Pt.test(n)){var i=C({context:t}),n="audio"===n&&!t.hasAttribute("controls");if(!e.cssDisplay&&(n?i.slice(1):i).some(function(e){return"none"===z(e,"display")}))return!1;if(!e.cssVisibility&&function(e){var t=K(e,function(e){e=z(e,"visibility");return"hidden"===e||"collapse"===e});if(-1!==t)return-1===(e=K(e,function(e){return"visible"===z(e,"visibility")}))||t<e}(i))return!1;if(!e.detailsElement&&(n=1,"summary"===(i=i)[0].nodeName.toLowerCase()&&(n=2),i.slice(n).some(function(e){return"details"===e.nodeName.toLowerCase()&&!1===e.open})))return!1;if(!e.browsingContext){i=$(t),n=Z.except(e);if(i&&!n(i))return!1}}return!0}function X(e,t){return t.querySelector('map[name="'+Ue(e)+'"]')||null}function J(e){var t=e.parentElement;return t.name&&"map"===t.nodeName.toLowerCase()&&u(e).querySelector('img[usemap="#'+Ue(t.name)+'"]')||null}function Y(e){return"fieldset"===e.nodeName.toLowerCase()&&e.disabled}function Q(e){return"form"===e.nodeName.toLowerCase()&&e.disabled}function ee(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,e=e.except,e=void 0===e?{onlyFocusableBrowsingContext:!1,visible:!1}:e,t=c({label:"is/only-tabbable",resolveDocument:!0,context:t});if(!e.visible&&!T(t))return!1;if(!e.onlyFocusableBrowsingContext&&(d.is.GECKO||d.is.TRIDENT||d.is.EDGE)){e=$(t);if(e&&w(e)<0)return!1}var e=t.nodeName.toLowerCase(),n=w(t);return"label"===e&&d.is.GECKO?null!==n&&0<=n:!!(d.is.GECKO&&t.ownerSVGElement&&!t.focus&&"a"===e&&t.hasAttribute("xlink:href")&&d.is.GECKO)}function te(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=n.context,n=n.except,n=void 0===n?{disabled:!1,visible:!1,onlyTabbable:!1}:n,o=(_=_||x(),Ht.rules.except({onlyFocusableBrowsingContext:!0,visible:n.visible})),i=c({label:"is/focusable",resolveDocument:!0,context:i});if(!Nt.rules({context:i,except:n})||"embed"===(t=(e=i).nodeName.toLowerCase())||"keygen"===t||(s=w(e),e.shadowRoot&&null===s)||("label"===t?!_.focusLabelTabindex||null===s:"legend"===t?null===s:_.focusSvgFocusableAttribute&&(e.ownerSVGElement||"svg"===t)?(r=e.getAttribute("focusable"))&&"false"===r:"img"===t&&e.hasAttribute("usemap")?null===s||!_.focusImgUsemapTabindex:"area"===t&&!Bt(e)))return!1;if(!n.disabled&&et(i))return!1;if(!n.onlyTabbable&&o(i))return!1;if(!n.visible){var r={context:i,except:{}};if(_.focusInHiddenIframe&&(r.except.browsingContext=!0),_.focusObjectSvgHidden&&"object"===i.nodeName.toLowerCase()&&(r.except.cssVisibility=!0),!T.rules(r))return!1}var s=$(i);if(s&&!("object"!==s.nodeName.toLowerCase()||_.focusInZeroDimensionObject||s.offsetWidth&&s.offsetHeight))return!1;return!("svg"===i.nodeName.toLowerCase()&&_.focusSvgInIframe&&!s&&null===i.getAttribute("tabindex"))}function ne(t){function e(e){return e.shadowRoot||t(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return e.acceptNode=e}function ie(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,e=e.except,e=void 0===e?{flexbox:!1,scrollable:!1,shadow:!1,visible:!1,onlyTabbable:!1}:e,t=(L=L||x(),c({label:"is/tabbable",resolveDocument:!0,context:t}));if(d.is.BLINK&&d.is.ANDROID&&42<d.majorVersion)return!1;var n=$(t);if(n){if(d.is.WEBKIT&&d.is.IOS)return!1;if(w(n)<0)return!1;if(!e.visible&&(d.is.BLINK||d.is.WEBKIT)&&!T(n))return!1;if("object"===n.nodeName.toLowerCase()){var i="Chrome"===d.name&&54<=d.majorVersion||"Opera"===d.name&&41<=d.majorVersion;if(d.is.WEBKIT||d.is.BLINK&&!i)return!1}}var i=t.nodeName.toLowerCase(),o=w(t),r=null===o?null:0<=o;if(d.is.EDGE&&14<=d.majorVersion&&n&&t.ownerSVGElement&&o<0)return!0;var n=!1!==r,s=null!==o&&0<=o;if(t.hasAttribute("contenteditable"))return n;if(Vt.test(i)&&!0!==r)return!1;if(d.is.WEBKIT&&d.is.IOS){r="input"===i&&"text"===t.type||"password"===t.type||"select"===i||"textarea"===i||t.hasAttribute("contenteditable");if(!(r=r||G(window.getComputedStyle(t,null))))return!1}if("use"===i&&null!==o&&(d.is.BLINK||d.is.WEBKIT&&9===d.majorVersion))return!0;if(H(t,"svg a")&&t.hasAttribute("xlink:href")){if(n)return!0;if(t.focus&&!L.focusSvgNegativeTabindexAttribute)return!0}if("svg"===i&&L.focusSvgInIframe&&n)return!0;if(d.is.TRIDENT||d.is.EDGE){if("svg"===i)return!!L.focusSvg||t.hasAttribute("focusable")||s;if(t.ownerSVGElement)return!(!L.focusSvgTabindexAttribute||!s)||t.hasAttribute("focusable")}if(void 0===t.tabIndex)return Boolean(e.onlyTabbable);if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(d.is.BLINK)return!0}if("video"===i)if(t.hasAttribute("controls")){if(d.is.BLINK||d.is.GECKO)return!0}else if(d.is.TRIDENT||d.is.EDGE)return!1;if("object"===i&&(d.is.BLINK||d.is.WEBKIT))return!1;if("iframe"===i)return!1;if(!e.scrollable&&d.is.GECKO&&q(window.getComputedStyle(t,null)))return n;if(d.is.TRIDENT||d.is.EDGE){if("area"===i){r=J(t);if(r&&w(r)<0)return!1}n=window.getComputedStyle(t,null);if(G(n))return 0<=t.tabIndex;if(!e.flexbox&&V(n))return null!==o?s:Ut(t)&&Wt(t);if(U(t,i))return!1;r=t.parentElement;if(r){e=r.nodeName.toLowerCase(),n=window.getComputedStyle(r,null);if(U(r,i,e,n))return!1;if(V(n))return s}}return 0<=t.tabIndex}function oe(e,t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function re(o,e,r){var s=[];return e.forEach(function(e){var t,n=!0,i=o.indexOf(e),e=(-1===i&&(t=e,i=K(o,function(e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}),n=!1),-1===i&&(i=o.length),l(r?r(e):e));e.length&&s.push({offset:i,replace:n,elements:e})}),s}function se(e){e=e.nodeName.toLowerCase();return"input"===e||"textarea"===e||"select"===e||"button"===e}function ae(e,t){var n;return!Zt.focusRedirectLegend||"fieldset"!==e.parentNode.nodeName.toLowerCase()?null:"tabbable"===Zt.focusRedirectLegend?(n=e,!(t=$t({context:(t=t).body,strategy:"strict"})).length||(n=(t=zt({list:t,elements:[n]})).indexOf(n))===t.length-1?null:t[n+1]):(t=(t=e).parentNode,nt({context:t,strategy:"strict"}).filter(se)[0]||null)}function le(e){var t;return Zt.focusRedirectImgUsemap&&(t=(t=(e=e).getAttribute("usemap"))?(e=u(e),X(t.slice(1),e)):null)&&t.querySelector("area")||null}function ue(){}function ce(){var e;document.activeElement?document.activeElement!==dn&&(e=new cn("active-element",{bubbles:!1,cancelable:!1,detail:{focus:document.activeElement,blur:dn}}),document.dispatchEvent(e),dn=document.activeElement):document.body.focus(),!1!==hn&&(hn=requestAnimationFrame(ce))}function de(){}function he(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.parent,n=e.element,i=e.includeSelf;if(t)return function(e){return Boolean(i&&e===t||t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)};if(n)return function(e){return Boolean(i&&n===e||e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)};throw new TypeError("util/compare-position#getParentComparator required either options.parent or options.element")}function fe(e){function t(t){return i.some(function(e){return t===e})?NodeFilter.FILTER_REJECT:function(e){e=he({parent:e});return i.some(e)}(t)?NodeFilter.FILTER_ACCEPT:(o.push(t),NodeFilter.FILTER_REJECT)}var n=e.context,i=e.filter,o=[];t.acceptNode=t;for(var r=u(n).createTreeWalker(n,NodeFilter.SHOW_ELEMENT,t,!1);r.nextNode(););return o}function pe(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,t=c({label:"query/shadow-hosts",resolveDocument:!0,defaultToDocument:!0,context:e}),n=u(e).createTreeWalker(t,NodeFilter.SHOW_ELEMENT,Sn,!1),i=[];for(t.shadowRoot&&(i.push(t),i=i.concat(pe({context:t.shadowRoot})));n.nextNode();)i.push(n.currentNode),i=i.concat(pe({context:n.currentNode.shadowRoot}));return i}function me(e){return Lt(e,!1)}function ge(e){E({element:e,attribute:"aria-hidden",temporaryValue:"true"})}function ve(e){E({element:e,attribute:"aria-hidden"})}function be(e,t){return Pn.tabsequenceAreaAtImgPosition&&(e=Nn(e,t)),jn(e)}function ye(){F=D=0}function xe(e){!1!==e.isPrimary&&D++}function we(e){return!1!==e.isPrimary?e.touches?void(D=e.touches.length):void(window.setImmediate||window.setTimeout)(function(){D=Math.max(D-1,0)}):void 0}function Ee(e){switch(e.keyCode||e.which){case 16:case 17:case 18:case 91:case 93:return}F++}function Ce(e){switch(e.keyCode||e.which){case 16:case 17:case 18:case 91:case 93:return}(window.setImmediate||window.setTimeout)(function(){F=Math.max(F-1,0)})}function Se(){return{pointer:Boolean(D),key:Boolean(F)}}function Te(e){return e.hasAttribute("autofocus")}function Ie(e){return e.tabIndex<=0}function _e(e,t,n){var i=""===(i=(i=e).getAttribute&&i.getAttribute("class")||"")?[]:i.split(" "),o=i.indexOf(t),r=-1!==o,n=void 0!==n?n:!r;n!==r&&(n||i.splice(o,1),n&&i.push(t),e.setAttribute("class",i.join(" ")))}function Ae(e,t){_e(e,t,!1)}function ke(e,t){_e(e,t,!0)}function i(e){var t,n="";e.type===oi||"shadow-focus"===e.type?(t=si.get(),n=ui||(t.pointer?"pointer":t.key&&"key")||"script"):"initial"===e.type&&(n="initial"),document.documentElement.setAttribute("data-focus-source",n),e.type!==ri&&(ci[n]||ke(document.documentElement,"focus-source-"+n),ci[n]=!0,li=n)}function Le(){return li}function Oe(e){return ci[e]}function Me(e){ui=e}function Ne(){ui=!1}function De(e){var e=e||pn(),t=(di.cssShadowPiercingDeepCombinator||(e=e.slice(-1)),[].slice.call(document.querySelectorAll(mi),0)),n=e.map(function(e){return C({context:e})}).reduce(function(e,t){return t.concat(e)},[]);t.forEach(function(e){-1===n.indexOf(e)&&Ae(e,pi)}),n.forEach(function(e){-1===t.indexOf(e)&&ke(e,pi)})}function Fe(){gi=(window.setImmediate||window.setTimeout)(function(){De()})}function je(){(window.clearImmediate||window.clearTimeout)(gi),De()}function Pe(e){De(e.detail.elements)}function Be(e,t){var n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),o=Math.max(Math.min(e.right,t.right),i),e=Math.max(Math.min(e.bottom,t.bottom),n);return{top:n,right:o,bottom:e,left:i,width:o-i,height:e-n}}function Re(e){var t=e.getBoundingClientRect(),n=e.offsetWidth-e.clientWidth,e=e.offsetHeight-e.clientHeight,n={top:t.top,left:t.left,right:t.right-n,bottom:t.bottom-e,width:t.width-n,height:t.height-e,area:0};return n.area=n.width*n.height,n}function He(e){return t=e,t=window.getComputedStyle(t,null),n="visible",t.getPropertyValue("overflow-x")!==n&&t.getPropertyValue("overflow-y")!==n&&(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth);var t,n}var Ge=function(e,t,n){return t&&Ze(e.prototype,t),n&&Ze(e,n),e},qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve=P(e("platform")),Ue=P(e("css.escape")),l=function(e){if(!e)return[];if(Array.isArray(e))return e;if(void 0!==e.nodeType)return[e];if(void 0!==(e="string"==typeof e?document.querySelectorAll(e):e).length)return[].slice.call(e,0);throw new TypeError("unexpected input "+String(e))},c=function(e){var t=e.context,n=e.label,n=void 0===n?"context-to-element":n,i=e.resolveDocument,e=e.defaultToDocument,t=l(t)[0];if(!(t=i&&t&&t.nodeType===Node.DOCUMENT_NODE?t.documentElement:t)&&e)return document.documentElement;if(!t)throw new TypeError(n+" requires valid options.context");if(t.nodeType!==Node.ELEMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)throw new TypeError(n+" requires options.context to be an Element");return t},r=function(){for(var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,t=c({label:"get/shadow-host",context:e}),n=null;t;)t=(n=t).parentNode;return n.nodeType===n.DOCUMENT_FRAGMENT_NODE&&n.host?n.host:null},u=function(e){return e?e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument||document:document},a=function(e){var t,e=c({label:"is/active-element",resolveDocument:!0,context:e});return u(e).activeElement===e||!(!(t=r({context:e}))||t.shadowRoot.activeElement!==e)},We=function(e){return u(e).defaultView||window},d=JSON.parse(JSON.stringify(Ve)),e=d.os.family||"",Ve="Android"===e,s="Windows"===e.slice(0,7),Ke="OS X"===e,e="iOS"===e,$e="Blink"===d.layout,h="Gecko"===d.layout,f="Trident"===d.layout,p="EdgeHTML"===d.layout,ze="WebKit"===d.layout,m=parseFloat(d.version),m=Math.floor(m);function Ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}d.majorVersion=m,d.is={ANDROID:Ve,WINDOWS:s,OSX:Ke,IOS:e,BLINK:$e,GECKO:h,TRIDENT:f,EDGE:p,WEBKIT:ze,IE9:f&&9===m,IE10:f&&10===m,IE11:f&&11===m};function Xe(o){e={activeElement:document.activeElement,windowScrollTop:window.scrollTop,windowScrollLeft:window.scrollLeft,bodyScrollTop:document.body.scrollTop,bodyScrollLeft:document.body.scrollLeft},(r=document.createElement("iframe")).setAttribute("style","position:absolute; position:fixed; top:0; left:-2px; width:1px; height:1px; overflow:hidden;"),r.setAttribute("aria-live","off"),r.setAttribute("aria-busy","true"),r.setAttribute("aria-hidden","true"),document.body.appendChild(r),t=r.contentWindow,(n=t.document).open(),n.close(),i=n.createElement("div"),n.body.appendChild(i),e.iframe=r,e.wrapper=i,e.window=t,e.document=n;var e,t,n,i,r,s=e,a={};return Object.keys(o).map(function(e){var t,n,i;a[e]=(t=s,e=o[e],t.wrapper.innerHTML="",n="string"==typeof e.element?t.document.createElement(e.element):e.element(t.wrapper,t.document),(i=e.mutate&&e.mutate(n,t.wrapper,t.document))||!1===i||(i=n),n.parentNode||t.wrapper.appendChild(n),i&&i.focus&&i.focus(),e.validate?e.validate(n,i,t.document):t.document.activeElement===i)}),(r=s).activeElement===document.body?(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),d.is.IE10&&document.body.focus()):r.activeElement&&r.activeElement.focus&&r.activeElement.focus(),document.body.removeChild(r.iframe),window.scrollTop=r.windowScrollTop,window.scrollLeft=r.windowScrollLeft,document.body.scrollTop=r.bodyScrollTop,document.body.scrollLeft=r.bodyScrollLeft,a}function Je(e){var t,n=e.element,i="data-cached-"+(e=e.attribute);null===n.getAttribute(i)?null!==(t=n.getAttribute(e))&&(n.setAttribute(i,t||""),n.removeAttribute(e)):(t=n.getAttribute(i),n.removeAttribute(i),n.setAttribute(e,t))}function Ye(){}function Qe(e){try{return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.getSVGDocument&&e.getSVGDocument()||null}catch(e){return null}}function et(e){return Rt=Rt||x(),!!(e=c({label:"is/disabled",context:e})).hasAttribute("data-ally-disabled")||!(!_t(e)||!e.disabled&&!(e=C({context:e})).some(Y)&&(Rt.focusFormDisabled||!e.some(Q)))}function tt(){return k=k||x(),"string"==typeof qt?qt:(qt=(k.focusTable?"table, td,":"")+(k.focusFieldset?"fieldset,":"")+"svg a,a[href],area[href],input, select, textarea, button,iframe, object, embed,keygen,"+(k.focusAudioWithoutControls?"audio,":"audio[controls],")+(k.focusVideoWithoutControls?"video,":"video[controls],")+(k.focusSummary?"summary,":"")+"[tabindex],[contenteditable]",qt=Ft(qt))}function nt(){var e=(i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,t=i.includeContext,n=i.includeOnlyTabbable,i=void 0===(i=i.strategy)?"quick":i,e={context:c({label:"query/focusable",resolveDocument:!0,defaultToDocument:!0,context:e}),includeContext:t,includeOnlyTabbable:n,strategy:i};if("quick"===i)return function(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.context,n=e.includeContext,e=e.includeOnlyTabbable,i=tt(),i=t.querySelectorAll(i),e=A.rules.except({onlyTabbable:e}),i=[].filter.call(i,e);return n&&e(t)&&i.unshift(t),i}(e);if("strict"===i||"all"===i)return function e(t){for(var t=0<arguments.length&&void 0!==t?t:{},n=t.context,i=t.includeContext,o=t.includeOnlyTabbable,r=t.strategy,n=n||document.documentElement,s=A.rules.except({onlyTabbable:o}),a=u(n).createTreeWalker(n,NodeFilter.SHOW_ELEMENT,"all"===r?Gt:ne(s),!1),l=[];a.nextNode();)a.currentNode.shadowRoot?(s(a.currentNode)&&l.push(a.currentNode),l=l.concat(e({context:a.currentNode.shadowRoot,includeOnlyTabbable:o,strategy:r}))):l.push(a.currentNode);return i&&("all"===r?Nt(n)&&l.unshift(n):s(n)&&l.unshift(n)),l}(e);throw new TypeError('query/focusable requires option.strategy to be one of ["quick", "strict", "all"]')}function g(){function e(e){return A.rules({context:e,except:n})?(o=e,!0):(o=Xt({context:e,skipFocusable:!0}),Boolean(o))}var t=(i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,n=i.except,i=c({label:"get/focus-target",context:t}),o=null;return e(i)||C({context:i}).slice(1).some(e),o}var Ve="1.4.1",s="undefined"!=typeof window&&window.navigator.userAgent||"",it="ally-supports-cache",v=function(e){var t=void 0;try{t=(t=window.localStorage&&window.localStorage.getItem(e))?JSON.parse(t):{}}catch(e){t={}}return t}(it),ot=((v=v.userAgent===s&&v.version===Ve?v:{}).userAgent=s,v.version=Ve,{get:function(){return v},set:function(t){Object.keys(t).forEach(function(e){v[e]=t[e]}),v.time=(new Date).toISOString();var e=it,n=v;if(document.hasFocus())try{window.localStorage&&window.localStorage.setItem(e,JSON.stringify(n))}catch(e){}else try{window.localStorage&&window.localStorage.removeItem(e)}catch(e){}}}),rt=function(){var t=void 0;try{document.querySelector("html >>> :first-child"),t=">>>"}catch(e){try{document.querySelector("html /deep/ :first-child"),t="/deep/"}catch(e){t=""}}return t},b="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ke={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+b+'">',e.querySelector("area")}},e={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" tabindex="-1" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" alt="" src="'+b+'">',!1},validate:function(e,t,n){return!!d.is.GECKO||((e=e.querySelector("area")).focus(),n.activeElement===e)}},$e={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-area-href-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-area-href-test" alt="" src="'+b+'">',e.querySelector("area")},validate:function(e,t,n){return!!d.is.GECKO||n.activeElement===t}},h={name:"can-focus-audio-without-controls",element:"audio",mutate:function(e){try{e.setAttribute("src",b)}catch(e){}}},p={element:"div",mutate:function(e){return e.innerHTML='<map name="broken-image-map-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#broken-image-map-test" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ">',e.querySelector("area")}},ze={element:"a",mutate:function(e){return e.href="#void",e.innerHTML='<img ismap src="'+b+'" alt="">',e.querySelector("img")}},f={element:"div",mutate:function(e){return e.innerHTML='<map name="image-map-tabindex-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+b+'">',e.querySelector("img")}},st=!d.is.WEBKIT,at="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJzdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==",m={element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",at),e.setAttribute("width","200"),e.setAttribute("height","50"),e.style.visibility="hidden"}},s={name:"can-focus-object-svg",element:"object",mutate:function(e){e.setAttribute("type","image/svg+xml"),e.setAttribute("data",at),e.setAttribute("width","200"),e.setAttribute("height","50")},validate:function(e,t,n){return!!d.is.GECKO||n.activeElement===e}},lt=!d.is.IE9,y={element:"div",mutate:function(e){return e.innerHTML='<map name="focus-redirect-img-usemap"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#focus-redirect-img-usemap" alt="" src="'+b+'">',e.querySelector("img")},validate:function(e,t,n){e=e.querySelector("area");return n.activeElement===e}},ut=function(e){var t,n;return!(!e.ownerSVGElement&&"svg"!==e.nodeName.toLowerCase()||((t=document.createElement("div")).innerHTML='<svg><foreignObject width="30" height="30">\n      <input type="text"/>\n  </foreignObject></svg>',t=t.firstChild.firstChild,e.appendChild(t),(n=t.querySelector("input")).focus(),n.disabled=!0,e.removeChild(t),0))},ct={element:"div",mutate:function(e){return e.innerHTML=t('<text focusable="true">a</text>'),e.querySelector("text")},validate:n},dt={element:"div",mutate:function(e){return e.innerHTML=t('<text tabindex="0">a</text>'),e.querySelector("text")},validate:n},ht={element:"div",mutate:function(e){return e.innerHTML=t('<text tabindex="-1">a</text>'),e.querySelector("text")},validate:n},ft={element:"div",mutate:function(e){return e.innerHTML=t(['<g id="ally-test-target"><a xlink:href="#void"><text>link</text></a></g>','<use xlink:href="#ally-test-target" x="0" y="0" tabindex="-1" />'].join("")),e.querySelector("use")},validate:n},pt={element:"div",mutate:function(e){return e.innerHTML=t('<foreignObject tabindex="-1"><input type="text" /></foreignObject>'),e.querySelector("foreignObject")||e.getElementsByTagName("foreignObject")[0]},validate:n},mt=Boolean(d.is.GECKO&&"undefined"!=typeof SVGElement&&SVGElement.prototype.focus),gt=d.is.GECKO||d.is.TRIDENT||d.is.EDGE,vt={cssShadowPiercingDeepCombinator:rt,focusInZeroDimensionObject:function(){return st},focusObjectSwf:function(){return lt},focusSvgInIframe:function(){return mt},tabsequenceAreaAtImgPosition:function(){return gt}},bt={focusAreaImgTabindex:Ke,focusAreaTabindex:e,focusAreaWithoutHref:$e,focusAudioWithoutControls:h,focusBrokenImageMap:p,focusChildrenOfFocusableFlexbox:{element:"div",mutate:function(e){return e.setAttribute("tabindex","-1"),e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>',e.querySelector("span")}},focusFieldsetDisabled:{element:"fieldset",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},focusFieldset:{element:"fieldset",mutate:function(e){e.innerHTML="<legend>legend</legend><p>content</p>"}},focusFlexboxContainer:{element:"span",mutate:function(e){e.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),e.innerHTML='<span style="display: block;">hello</span>'}},focusFormDisabled:{element:"form",mutate:function(e){e.setAttribute("tabindex",0),e.setAttribute("disabled","disabled")}},focusImgIsmap:ze,focusImgUsemapTabindex:f,focusInHiddenIframe:{element:function(e,t){t=t.createElement("iframe"),e.appendChild(t),e=t.contentWindow.document;return e.open(),e.close(),t},mutate:function(e){e.style.visibility="hidden";var e=e.contentWindow.document,t=e.createElement("input");return e.body.appendChild(t),t},validate:function(e){var e=e.contentWindow.document,t=e.querySelector("input");return e.activeElement===t}},focusInvalidTabindex:{element:"div",mutate:function(e){e.setAttribute("tabindex","invalid-value")}},focusLabelTabindex:{element:"label",mutate:function(e){e.setAttribute("tabindex","-1")},validate:function(e,t,n){return e.offsetHeight,e.focus(),n.activeElement===e}},focusObjectSvg:s,focusObjectSvgHidden:m,focusRedirectImgUsemap:y,focusRedirectLegend:{element:"fieldset",mutate:function(e){return!(e.innerHTML='<legend>legend</legend><input tabindex="-1"><input tabindex="0">')},validate:function(e,t,n){var i=e.querySelector('input[tabindex="-1"]'),o=e.querySelector('input[tabindex="0"]');return e.focus(),e.querySelector("legend").focus(),(n.activeElement===i?"focusable":n.activeElement===o&&"tabbable")||""}},focusScrollBody:{element:"div",mutate:function(e){return e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>',e.querySelector("div")}},focusScrollContainerWithoutOverflow:{element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusScrollContainer:{element:"div",mutate:function(e){e.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),e.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},focusSummary:{element:"details",mutate:function(e){return e.innerHTML="<summary>foo</summary><p>content</p>",e.firstElementChild}},focusSvgFocusableAttribute:ct,focusSvgTabindexAttribute:dt,focusSvgNegativeTabindexAttribute:ht,focusSvgUseTabindex:ft,focusSvgForeignobjectTabindex:pt,focusSvg:{element:"div",mutate:function(e){return e.innerHTML=t(""),e.firstChild},validate:n},focusTabindexTrailingCharacters:{element:"div",mutate:function(e){e.setAttribute("tabindex","3x")}},focusTable:{element:"table",mutate:function(e,t,n){n=n.createDocumentFragment();n.innerHTML="<tr><td>cell</td></tr>",e.appendChild(n)}},focusVideoWithoutControls:{element:"video",mutate:function(e){try{e.setAttribute("src",b)}catch(e){}}}},yt=null,x=function(){return yt||((yt=ot.get()).time||(ot.set((t=Xe(bt),Object.keys(vt).forEach(function(e){t[e]=vt[e]()}),t)),yt=ot.get()),yt);var t},xt=void 0,wt=/^\s*(-|\+)?[0-9]+\s*$/,Et=/^\s*(-|\+)?[0-9]+.*$/,Ct=function(e){var t=(xt=xt||x()).focusTabindexTrailingCharacters?Et:wt,e=c({label:"is/valid-tabindex",resolveDocument:!0,context:e}),n=e.hasAttribute("tabindex"),i=e.hasAttribute("tabIndex");return!(!n&&!i||(e.ownerSVGElement||"svg"===e.nodeName.toLowerCase())&&!xt.focusSvgTabindexAttribute)&&(!!xt.focusInvalidTabindex||"-32768"!==(i=e.getAttribute(n?"tabindex":"tabIndex"))&&Boolean(i&&t.test(i)))},w=function(e){var t;return Ct(e)?(t=e.hasAttribute("tabindex"),e=parseInt(e.getAttribute(t?"tabindex":"tabIndex"),10),isNaN(e)?-1:e):null},St=void 0,Tt=void 0,It={input:!0,select:!0,textarea:!0,button:!0,fieldset:!0,form:!0},_t=function(e){St||((St=x()).focusFieldsetDisabled&&delete It.fieldset,St.focusFormDisabled&&delete It.form,Tt=new RegExp("^("+Object.keys(It).join("|")+")$"));e=c({label:"is/native-disabled-supported",context:e}).nodeName.toLowerCase();return Boolean(Tt.test(e))},E=function(e){var t=e.element,n=e.attribute,i=e.temporaryValue,e=e.saveValue,o="data-cached-"+n;void 0!==i?(e=e||t.getAttribute(n),t.setAttribute(o,e||""),t.setAttribute(n,i)):(e=t.getAttribute(o),t.removeAttribute(o),""===e?t.removeAttribute(n):t.setAttribute(n,e))},At="undefined"!=typeof console?console:{log:Ye,debug:Ye,info:Ye,warn:Ye,error:Ye},kt=void 0,Lt=function(e,t){kt=kt||x();var e=c({label:"element/disabled",context:e}),n=(t=Boolean(t),e.hasAttribute("data-ally-disabled")),i=1===arguments.length;return _t(e)?i?e.disabled:(e.disabled=t,e):i?n:(n===t||R(e,t),e)},C=function(){for(var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,t=[],n=c({label:"get/parents",context:e});n;)t.push(n),(n=n.parentNode)&&n.nodeType!==Node.ELEMENT_NODE&&(n=null);return t},Ot=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],Mt=null,S=void 0,Nt=(W.except=function(){function e(e){return W({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=W,e})({}),Dt=void 0,Ft=function(e){var t;return(Dt="string"!=typeof Dt&&(t=rt())?", html "+t+" ":Dt)?e+Dt+e.replace(/\s*,\s*/g,",").split(",").join(Dt):e},jt=void 0,Pt=/^(area)$/,T=(Z.except=function(){function e(e){return Z({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=Z,e})({}),I=void 0,Bt=function(e){I=I||x();var t,n,e=c({label:"is/valid-area",context:e});return"area"===e.nodeName.toLowerCase()&&(t=e.hasAttribute("tabindex"),!(!I.focusAreaTabindex&&t||!(n=J(e))||!T(n)||!I.focusBrokenImageMap&&(!n.complete||!n.naturalHeight||n.offsetWidth<=0||n.offsetHeight<=0)))&&(I.focusAreaWithoutHref||e.href?!C({context:n}).slice(1).some(function(e){e=e.nodeName.toLowerCase();return"button"===e||"a"===e}):I.focusAreaTabindex&&t||I.focusAreaImgTabindex&&n.hasAttribute("tabindex"))},Rt=void 0,Ht=(ee.except=function(){function e(e){return ee({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=ee,e})({}),_=void 0,A=(te.except=function(){function e(e){return te({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=te,e})({}),Gt=ne(Nt),k=void 0,qt=void 0,L=void 0,Vt=/^(fieldset|table|td|body)$/,Ut=(ie.except=function(){function e(e){return ie({context:e,except:t})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rules=ie,e},Nt.rules.except({flexbox:!0})),Wt=ie.except({flexbox:!0}),Kt=ie.except({}),$t=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.includeContext,i=e.includeOnlyTabbable,e=e.strategy,o=Kt.rules.except({onlyTabbable:i});return nt({context:t,includeContext:n,includeOnlyTabbable:i,strategy:e}).filter(o)},zt=function(){var i,o,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.list,n=e.elements,e=e.resolveElement,t=t.slice(0),n=l(n).slice(0),n=(n.sort(oe),re(t,n,e));return i=t,o=0,(e=n).sort(function(e,t){return e.offset-t.offset}),e.forEach(function(e){var t=e.replace?1:0,n=[e.offset+o,t].concat(e.elements);i.splice.apply(i,n),o+=e.elements.length-t}),t},Zt=void 0,Xt=function(){var e,t,n,i,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=o.context,o=o.skipFocusable,r=(Zt=Zt||x(),c({label:"get/focus-redirect-target",context:r}));return!o&&A(r)?null:(o=r.nodeName.toLowerCase(),e=u(r),"label"===o?(n=e,(i=(t=r).getAttribute("for"))?n.getElementById(i):t.querySelector("input, select, textarea")):"legend"===o?ae(r,e):"img"===o?le(r):null)},Jt={flexbox:!0,scrollable:!0,onlyTabbable:!0},Ke={blur:function(t){t=c({label:"element/blur",context:t});if(!a(t))return null;if("body"===t.nodeName.toLowerCase())return null;if(t.blur)return t.blur(),document.activeElement;var n=We(t);try{n.HTMLElement.prototype.blur.call(t)}catch(e){t=n.document&&n.document.body;if(!t)return null;var i=t.getAttribute("tabindex");t.setAttribute("tabindex","-1"),t.focus(),i?t.setAttribute("tabindex",i):t.removeAttribute("tabindex")}return n.document.activeElement},disabled:Lt,focus:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=n.defaultToAncestor,n=n.undoScrolling,e=c({label:"element/focus",context:e}),o=A.rules({context:e,except:Jt});return(i||o)&&(i=g({context:e,except:Jt}))?a(i)?i:(o=void 0,n&&(t=C({context:i}).slice(1).map(function(e){return{element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}}),o=function(){t.forEach(function(e){e.element.scrollTop=e.scrollTop,e.element.scrollLeft=e.scrollLeft})}),e=function(t){if(t.focus)return t.focus(),a(t)?t:null;var e=We(t);try{return e.HTMLElement.prototype.focus.call(t),a(t)?t:null}catch(e){return ut(t)&&a(t)?t:null}}(i),o&&o(),e):null}};if("undefined"!=typeof window){for(var Yt=0,Qt=["ms","moz","webkit","o"],en="",tn="",nn=0,on=Qt.length;nn<on;++nn)en=window[Qt[nn]+"RequestAnimationFrame"],tn=window[Qt[nn]+"CancelAnimationFrame"]||window[Qt[nn]+"CancelRequestAnimationFrame"];"function"!=typeof window.requestAnimationFrame&&(window.requestAnimationFrame=window[en]||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-Yt)),i=window.setTimeout(function(){e(t+n)},n);return Yt=t+n,i}),"function"!=typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame=window[tn]||function(e){clearTimeout(e)})}function rn(){var e=(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).engage,t=t.disengage;return function(){return this.instances?this.instances++:(this.instances++,this._result=this.engage()||{},this._result.disengage=function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).force?this.instances=0:this.instances--,this.instances||(this.disengage(),this._result=null)}.bind(this)),this._result}.bind({engage:e||ue,disengage:t||ue,instances:0,_result:null})}function sn(){for(var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,t=[],n=c({label:"get/shadow-host-parents",context:e});n=n&&r({context:n});)t.push(n);return t}var an,O,ln,un,e="undefined"!=typeof window&&window.CustomEvent||function(){},cn=("function"!=typeof e&&((e=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,(t=t?t:{bubbles:!1,cancelable:!1,detail:void 0}).bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype),e),dn=void 0,hn=void 0,$e=rn({engage:function(){hn=!0,dn=document.activeElement,ce()},disengage:function(){cancelAnimationFrame(hn),hn=!1}}),fn=function(e){e=c({label:"is/shadowed",resolveDocument:!0,context:e});return Boolean(r({context:e}))},pn=function(){if(null===document.activeElement&&document.body.focus(),fn(document.activeElement))return e=sn({context:document.activeElement}),[document.activeElement].concat(e);for(var e,t=[document.activeElement];t[0]&&t[0].shadowRoot;)t.unshift(t[0].shadowRoot.activeElement);return t},h=void 0,p=void 0;function mn(){ln(),(window.clearImmediate||window.clearTimeout)(an),an=(window.setImmediate||window.setTimeout)(function(){un()})}function gn(){(window.clearImmediate||window.clearTimeout)(an),un()}"undefined"!=typeof document&&document.documentElement.createShadowRoot?(O=an=void 0,ln=function(){O&&O.removeEventListener("blur",mn,!0),O=null},un=function(){var e,t=pn();1===t.length?ln():((e=t[0]).addEventListener("blur",mn,!0),O=e,e=new CustomEvent("shadow-focus",{bubbles:!1,cancelable:!1,detail:{elements:t,active:t[0],hosts:t.slice(1)}}),document.dispatchEvent(e))},h=function(){document.addEventListener("focus",gn,!0)},p=function(){(window.clearImmediate||window.clearTimeout)(an),O&&O.removeEventListener("blur",mn,!0),document.removeEventListener("focus",gn,!0)}):h=p=function(){};function vn(){var e=(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).engage,t=t.disengage;return function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context;return this.context=l(e||document),this.context.forEach(this.engage),{disengage:function(){this.context&&(this.context.forEach(this.disengage),this.context=null,this.engage=null,this.disengage=null)}.bind(this)}}.bind({engage:e||de,disengage:t||de,context:null})}var bn=rn({engage:h,disengage:p}),ze={activeElement:$e,shadowFocus:bn},f=void 0,s=void 0;function yn(e){var t,n=g({context:e.target,except:{flexbox:!0,scrollable:!0}});n&&n!==e.target&&(window.setImmediate(function(){n.focus()}),t=[].map.call(n.children,function(e){var t=e.style.visibility||"",n=e.style.transition||"";return e.style.visibility="hidden",e.style.transition="none",[e,t,n]}),window.setImmediate(function(){t.forEach(function(e){e[0].style.visibility=e[1],e[0].style.transition=e[2]})}))}d.is.TRIDENT&&(d.is.IE10||d.is.IE11)?(f=function(e){e.addEventListener("mousedown",yn,!0)},s=function(e){e.removeEventListener("mousedown",yn,!0)}):f=function(){};m=vn({engage:f,disengage:s}),y=void 0,ct=void 0;function xn(e){var t;!e.defaultPrevented&&H(e.target,"input, button, button *")&&(t=g({context:e.target}),(window.setImmediate||window.setTimeout)(function(){t.focus()}))}function wn(e){!e.defaultPrevented&&H(e.target,"label, label *")&&(e=g({context:e.target}))&&e.focus()}d.is.OSX&&(d.is.GECKO||d.is.WEBKIT)?(y=function(e){e.addEventListener("mousedown",xn,!1),e.addEventListener("mouseup",wn,!1)},ct=function(e){e.removeEventListener("mousedown",xn,!1),e.removeEventListener("mouseup",wn,!1)}):y=function(){};dt=vn({engage:y,disengage:ct}),ht=void 0,ft=void 0;function En(e){var t=g({context:e.target});!t||t.hasAttribute("tabindex")&&Ct(t)||(t.setAttribute("tabindex",0),(window.setImmediate||window.setTimeout)(function(){t.removeAttribute("tabindex")},0))}d.is.WEBKIT?(ht=function(e){e.addEventListener("mousedown",En,!0),e.addEventListener("touchstart",En,!0)},ft=function(e){e.removeEventListener("mousedown",En,!0),e.removeEventListener("touchstart",En,!0)}):ht=function(){};function Cn(){var e=(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,t=t.filter,e=c({label:"get/insignificant-branches",defaultToDocument:!0,context:e});if((t=l(t)).length)return fe({context:e,filter:t});throw new TypeError("get/insignificant-branches requires valid options.filter")}function Sn(e){return e.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}pt={pointerFocusChildren:m,pointerFocusInput:dt,pointerFocusParent:vn({engage:ht,disengage:ft})},e={activeElement:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context,e=u(e),t=void 0;try{t=e.activeElement}catch(e){}return t=t&&t.nodeType?t:e.body||e.documentElement},activeElements:pn,focusRedirectTarget:Xt,focusTarget:g,insignificantBranches:Cn,parents:C,shadowHostParents:sn,shadowHost:r},h={activeElement:a,disabled:et,focusRelevant:Nt,focusable:A,onlyTabbable:Ht,shadowed:fn,tabbable:Kt,validArea:Bt,validTabindex:Ct,visible:T};Sn.acceptNode=Sn;for(var Tn={childList:!0,subtree:!0},In=(Ge(Un,[{key:"disengage",value:function(){this.clientObserver&&this.clientObserver.disconnect(),this.clientObserver=null,this.hostObserver&&this.hostObserver.disconnect(),this.hostObserver=null}},{key:"observeShadowHosts",value:function(e){var t=this;pe({context:e}).forEach(function(e){return t.observeContext(e.shadowRoot)})}},{key:"observeContext",value:function(e){this.clientObserver.observe(e,this.config),this.hostObserver.observe(e,Tn)}},{key:"handleHostMutation",value:function(e){"childList"===e.type&&l(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).forEach(this.observeShadowHosts,this)}}]),Un),_n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.callback,e=e.config;if("function"!=typeof n)throw new TypeError("observe/shadow-mutations requires options.callback to be a function");if("object"!==(void 0===e?"undefined":qe(e)))throw new TypeError("observe/shadow-mutations requires options.config to be an object");return window.MutationObserver?(t=c({label:"observe/shadow-mutations",resolveDocument:!0,defaultToDocument:!0,context:t}),{disengage:new In({context:t,callback:n,config:e}).disengage}):{disengage:function(){}}},An={attributes:!0,childList:!0,subtree:!0,attributeFilter:["tabindex","disabled","data-ally-disabled"]},kn=(Ge(Vn,[{key:"disengage",value:function(){this._context&&(me(this._context),this._inertElementCache.forEach(me),this._inertElementCache=null,this._filter=null,this._context=null,this.shadowObserver&&this.shadowObserver.disengage(),this.shadowObserver=null)}},{key:"listQueryFocusable",value:function(e){return e.map(function(e){return nt({context:e,includeContext:!0,strategy:"all"})}).reduce(function(e,t){return e.concat(t)},[])}},{key:"renderInert",value:function(e){var t=this;e.filter(this.filterElements).filter(this.filterParentElements).filter(function(e){return!Lt(e)}).forEach(function(e){t._inertElementCache.push(e),Lt(e,!0)})}},{key:"filterElements",value:function(e){e=he({element:e,includeSelf:!0});return!this._filter.some(e)}},{key:"filterParentElements",value:function(e){e=he({parent:e});return!this._filter.some(e)}},{key:"handleMutation",value:function(e){var t;"childList"===e.type?(t=l(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE})).length&&(t=this.listQueryFocusable(t),this.renderInert(t)):"attributes"===e.type&&this.renderInert([e.target])}}]),Vn),Ln={attributes:!1,childList:!0,subtree:!0},On=(Ge(qn,[{key:"disengage",value:function(){this._context&&([].forEach.call(this._context.querySelectorAll("[data-cached-aria-hidden]"),ve),this._context=null,this._filter=null,this._observer&&this._observer.disconnect(),this._observer=null)}},{key:"startObserver",value:function(){var t=this;window.MutationObserver&&(this._observer=new MutationObserver(function(e){return e.forEach(t.handleMutation)}),this._observer.observe(this._context,Ln))}},{key:"handleMutation",value:function(e){"childList"===e.type&&l(e.addedNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).filter(this.isInsignificantBranch).forEach(ge)}},{key:"isInsignificantBranch",value:function(e){return!C({context:e}).some(function(e){return"true"===e.getAttribute("aria-hidden")})&&(e=he({element:e}),!this._filter.some(e))}}]),qn),Mn=(Ge(Gn,[{key:"getAreasFor",value:function(e){return this.maps[e]||this.addMapByName(e),this.maps[e]}},{key:"addMapByName",value:function(e){e=X(e,this._document);e&&(this.maps[e.name]=$t({context:e}))}},{key:"extractAreasFromList",value:function(e){return e.filter(function(e){var t;return"area"!==e.nodeName.toLowerCase()||(t=e.parentNode,this.maps[t.name]||(this.maps[t.name]=[]),this.maps[t.name].push(e),!1)},this)}}]),Gn),Nn=function(e,t){var n=t.querySelectorAll("img[usemap]"),i=new Mn(t),t=i.extractAreasFromList(e);return n.length?zt({list:t,elements:n,resolveElement:function(e){e=e.getAttribute("usemap").slice(1);return i.getAreasFor(e)}}):t},Dn=(Ge(Hn,[{key:"_registerHost",value:function(e){var t;e._sortingId||(e._sortingId="shadow-"+this.hostCounter++,this.hosts[e._sortingId]=e,(t=r({context:e}))?(this._registerHost(t),this._registerHostParent(e,t)):this.inDocument.push(e))}},{key:"_registerHostParent",value:function(e,t){this.inHost[t._sortingId]||(this.inHost[t._sortingId]=[]),this.inHost[t._sortingId].push(e)}},{key:"_registerElement",value:function(e,t){this.elements[t._sortingId]||(this.elements[t._sortingId]=[]),this.elements[t._sortingId].push(e)}},{key:"extractElements",value:function(e){return e.filter(function(e){var t=r({context:e});return!t||(this._registerHost(t),this._registerElement(e,t),!1)},this)}},{key:"sort",value:function(e){e=this._injectHosts(e),e=this._replaceHosts(e);return this._cleanup(),e}},{key:"_injectHosts",value:function(e){return Object.keys(this.hosts).forEach(function(e){var t=this.elements[e],n=this.inHost[e],i=this.hosts[e].shadowRoot;this.elements[e]=this._merge(t,n,i)},this),this._merge(e,this.inDocument,this.context)}},{key:"_merge",value:function(e,t,n){e=zt({list:e,elements:t});return this.sortElements(e,n)}},{key:"_replaceHosts",value:function(e){return zt({list:e,elements:this.inDocument,resolveElement:this._resolveHostElement.bind(this)})}},{key:"_resolveHostElement",value:function(e){var t=zt({list:this.elements[e._sortingId],elements:this.inHost[e._sortingId],resolveElement:this._resolveHostElement.bind(this)}),n=w(e);return null!==n&&-1<n?[e].concat(t):t}},{key:"_cleanup",value:function(){Object.keys(this.hosts).forEach(function(e){delete this.hosts[e]._sortingId},this)}}]),Hn),Fn=function(e,t,n){var t=new Dn(t,n),i=t.extractElements(e);return i.length===e.length?n(e):t.sort(i)},jn=function(e){var n={},i=[],e=e.filter(function(e){var t=e.tabIndex;return(t=void 0===t?w(e):t)<=0||null==t||(n[t]||(n[t]=[],i.push(t)),n[t].push(e),!1)});return i.sort().map(function(e){return n[e]}).reduceRight(function(e,t){return t.concat(e)},e)},Pn=void 0,Bn=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.includeContext,i=e.includeOnlyTabbable,e=e.strategy,t=(Pn=Pn||x(),l(t)[0]||document.documentElement),i=$t({context:t,includeContext:n,includeOnlyTabbable:i,strategy:e}),i=document.body.createShadowRoot&&d.is.BLINK?Fn(i,t,be):be(i,t);return n&&(e=t,i=0<(e=(n=i).indexOf(e))?n.splice(e,1).concat(n):n),i},M={tab:9,left:37,up:38,right:39,down:40,pageUp:33,"page-up":33,pageDown:34,"page-down":34,end:35,home:36,enter:13,escape:27,space:32,shift:16,capsLock:20,"caps-lock":20,ctrl:17,alt:18,meta:91,pause:19,insert:45,delete:46,backspace:8,_alias:{91:[92,93,224]}},Rn=1;Rn<26;Rn++)M["f"+Rn]=Rn+111;function Hn(e,t){o(this,Hn),this.context=e,this.sortElements=t,this.hostCounter=1,this.inHost={},this.inDocument=[],this.hosts={},this.elements={}}function Gn(e){o(this,Gn),this._document=u(e),this.maps={}}function qn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,e=e.filter;o(this,qn),this._context=l(t||document.documentElement)[0],this._filter=l(e),this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.isInsignificantBranch=this.isInsignificantBranch.bind(this),Cn({context:this._context,filter:this._filter}).forEach(ge),this.startObserver()}function Vn(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.context,e=e.filter,n=(o(this,Vn),this._context=l(n||document.documentElement)[0],this._filter=l(e),this._inertElementCache=[],this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.renderInert=this.renderInert.bind(this),this.filterElements=this.filterElements.bind(this),this.filterParentElements=this.filterParentElements.bind(this),nt({context:this._context,includeContext:!0,strategy:"all"}));this.renderInert(n),this.shadowObserver=_n({context:this._context,config:An,callback:function(e){return e.forEach(t.handleMutation)}})}function Un(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.context,i=e.callback,e=e.config;o(this,Un),this.config=e,this.disengage=this.disengage.bind(this),this.clientObserver=new MutationObserver(i),this.hostObserver=new MutationObserver(function(e){return e.forEach(t.handleHostMutation,t)}),this.observeContext(n),this.observeShadowHosts(n)}for(var N=0;N<10;N++){var Wn=N+48,Kn=N+96;M[N]=Wn,M["num-"+N]=Kn,M._alias[Wn]=[Kn]}for(var $n=0;$n<26;$n++){var zn=$n+65,Zn=String.fromCharCode(zn).toLowerCase();M[Zn]=zn}function Xn(){var e,t,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o={},r=l(i.context)[0]||document.documentElement,s=(delete i.context,l(i.filter)),a=(delete i.filter,Object.keys(i));if(a.length)return e=function(t){t.keyCodes.forEach(function(e){o[e]||(o[e]=[]),o[e].push(t)})},a.forEach(function(t){if("function"!=typeof i[t])throw new TypeError('when/key requires option["'+t+'"] to be a function');ei(t).map(function(e){return e.callback=i[t],e}).forEach(e)}),r.addEventListener("keydown",t=function(t){if(!t.defaultPrevented){if(s.length){var e=he({element:t.target,includeSelf:!0});if(s.some(e))return}e=t.keyCode||t.which;o[e]&&o[e].forEach(function(e){e.matchModifiers(t)&&e.callback.call(r,t,n)})}},!1),{disengage:n=function(){r.removeEventListener("keydown",t,!1)}};throw new TypeError("when/key requires at least one option key")}function Jn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.callback,i=e.area;if("function"!=typeof n)throw new TypeError("when/visible-area requires options.callback to be a function");function o(){return u()?void a():void l()}"number"!=typeof i&&(i=1);var r=c({label:"when/visible-area",context:t}),s=void 0,a=null,l=function(){s&&cancelAnimationFrame(s)},u=function(){return!T(r)||bi(r)<i||!1===n(r)};return(a=function(){s=requestAnimationFrame(o)})(),{disengage:l}}var Yn={alt:"altKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Qn=Object.keys(Yn).map(function(e){return Yn[e]}),ei=function(e){return e.split(/\s+/).map(function(e){var t,i,e=e.split("+"),n=(t=e.slice(0,-1),n=-1!==t.indexOf("*"),i={altKey:n=!!(n=n)&&null,ctrlKey:n,metaKey:n,shiftKey:n},t.forEach(function(e){if("*"!==e){var t=!0,n=e.slice(0,1),n=("?"===n?t=null:"!"===n&&(t=!1),!0!==t&&(e=e.slice(1)),Yn[e]);if(!n)throw new TypeError('Unknown modifier "'+e+'"');i[n]=t}}),i);return{keyCodes:function(e){var t=M[e]||parseInt(e,10);if(!t||"number"!=typeof t||isNaN(t))throw new TypeError('Unknown key "'+e+'"');return[t].concat(M._alias[t]||[])}(e.slice(-1)),modifiers:n,matchModifiers:function(t,n){return!Qn.some(function(e){return"boolean"==typeof t[e]&&Boolean(n[e])!==t[e]})}.bind(null,n)}})},p={disabled:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,e=e.filter;return{disengage:new kn({context:t,filter:e}).disengage}},hidden:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,e=e.filter;return{disengage:new On({context:t,filter:e}).disengage}},tabFocus:function(){var s=(s=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context)||document.documentElement;return Bn(),Xn({"?alt+?shift+tab":function(e){e.preventDefault();var n,t=Bn({context:s}),e=e.shiftKey,i=t[0],o=t[t.length-1],r=e?o:i;(a(e?i:o)?r:(n=void 0,t.some(function(e,t){return!!a(e)&&(n=t,!0)})?t[n+(e?-1:1)]:i)).focus()}})}},$e={attribute:{"aria-busy":{default:"false",values:["true","false"]},"aria-checked":{default:void 0,values:["true","false","mixed",void 0]},"aria-disabled":{default:"false",values:["true","false"]},"aria-expanded":{default:void 0,values:["true","false",void 0]},"aria-grabbed":{default:void 0,values:["true","false",void 0]},"aria-hidden":{default:"false",values:["true","false"]},"aria-invalid":{default:"false",values:["true","false","grammar","spelling"]},"aria-pressed":{default:void 0,values:["true","false","mixed",void 0]},"aria-selected":{default:void 0,values:["true","false",void 0]},"aria-atomic":{default:"false",values:["true","false"]},"aria-autocomplete":{default:"none",values:["inline","list","both","none"]},"aria-dropeffect":{default:"none",multiple:!0,values:["copy","move","link","execute","popup","none"]},"aria-haspopup":{default:"false",values:["true","false"]},"aria-live":{default:"off",values:["off","polite","assertive"]},"aria-multiline":{default:"false",values:["true","false"]},"aria-multiselectable":{default:"false",values:["true","false"]},"aria-orientation":{default:"horizontal",values:["vertical","horizontal"]},"aria-readonly":{default:"false",values:["true","false"]},"aria-relevant":{default:"additions text",multiple:!0,values:["additions","removals","text","all"]},"aria-required":{default:"false",values:["true","false"]},"aria-sort":{default:"none",other:!0,values:["ascending","descending","none"]}},keycode:M},D=0,F=0,ti=["touchstart","pointerdown","MSPointerDown","mousedown"],ni=["touchend","touchcancel","pointerup","MSPointerUp","pointercancel","MSPointerCancel","mouseup"],ii=rn({engage:function(){return window.addEventListener("blur",ye,!1),document.documentElement.addEventListener("keydown",Ee,!0),document.documentElement.addEventListener("keyup",Ce,!0),ti.forEach(function(e){document.documentElement.addEventListener(e,xe,!0)}),ni.forEach(function(e){document.documentElement.addEventListener(e,we,!0)}),{get:Se}},disengage:function(){D=F=0,window.removeEventListener("blur",ye,!1),document.documentElement.removeEventListener("keydown",Ee,!0),document.documentElement.removeEventListener("keyup",Ce,!0),ti.forEach(function(e){document.documentElement.removeEventListener(e,xe,!0)}),ni.forEach(function(e){document.documentElement.removeEventListener(e,we,!0)})}}),f={interactionType:ii,shadowMutations:_n},s={firstTabbable:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.sequence,i=e.strategy,o=e.ignoreAutofocus,r=e.defaultToContext,e=e.includeOnlyTabbable,s=-1,i=(n||(t=l(t||document.body)[0],n=$t({context:t,includeOnlyTabbable:e,strategy:i})),n.length&&!o&&(s=K(n,Te)),n.length&&-1===s&&(s=K(n,Ie)),A.rules.except({onlyTabbable:e}));return-1===s&&r&&t&&i(t)?t:n[s]||null},focusable:nt,shadowHosts:pe,tabbable:$t,tabsequence:Bn},y="undefined"!=typeof document&&"onfocusin"in document,oi=y?"focusin":"focus",ri=y?"focusout":"blur",si=void 0,ai=void 0,li=null,ui=null,ci={pointer:!1,key:!1,script:!1,initial:!1},ct=rn({engage:function(){return ai=bn(),document.addEventListener("shadow-focus",i,!0),document.documentElement.addEventListener(oi,i,!0),document.documentElement.addEventListener(ri,i,!0),si=ii(),i({type:"initial"}),{used:Oe,current:Le,lock:Me,unlock:Ne}},disengage:function(){i({type:ri}),li=ui=null,Object.keys(ci).forEach(function(e){Ae(document.documentElement,"focus-source-"+e),ci[e]=!1}),si.disengage(),ai&&ai.disengage(),document.removeEventListener("shadow-focus",i,!0),document.documentElement.removeEventListener(oi,i,!0),document.documentElement.removeEventListener(ri,i,!0),document.documentElement.removeAttribute("data-focus-source")}}),di=void 0,m="undefined"!=typeof document&&"onfocusin"in document,hi=m?"focusin":"focus",fi=m?"focusout":"blur",pi="ally-focus-within",mi=void 0,gi=void 0,vi=void 0,dt=rn({engage:function(){di||(di=x(),mi=Ft("."+pi)),vi=bn(),document.addEventListener(fi,Fe,!0),document.addEventListener(hi,je,!0),document.addEventListener("shadow-focus",Pe,!0),De()},disengage:function(){vi&&vi.disengage(),(window.clearImmediate||window.clearTimeout)(gi),document.removeEventListener(fi,Fe,!0),document.removeEventListener(hi,je,!0),document.removeEventListener("shadow-focus",Pe,!0),[].forEach.call(document.querySelectorAll(mi),function(e){Ae(e,pi)})}}),bi=function(e){var t=e.getBoundingClientRect(),n=(n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,{top:0,right:n,bottom:i,left:0,width:n,height:i}),i=(n.area=n.width*n.height,n),e=(e=C({context:e=e}).slice(1).filter(He)).length?e.reduce(function(e,t){var t=Re(t),n=Be(t,e);return n.area=Math.min(t.area,e.area),n},Re(e[0])):null;if(e){if(!e.width||!e.height)return 0;(i=Be(e,n)).area=e.area}n=Be(t,i);return n.width&&n.height?(e=t.width*t.height,t=Math.min(e,i.area),e=Math.round(n.width)*Math.round(n.height)/t,i=Math.round(1e4*e)/1e4,Math.min(i,1)):0},yi="undefined"!=typeof window&&window.ally;j.exports={element:Ke,event:ze,fix:pt,get:e,is:h,maintain:p,map:$e,observe:f,query:s,style:{focusSource:ct,focusWithin:dt},when:{focusable:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=e.callback,e=e.area;if("function"!=typeof n)throw new TypeError("when/focusable requires options.callback to be a function");function i(){o.removeEventListener("focus",i,!0),r&&r.disengage()}var t=c({label:"when/focusable",context:t}),o=u(t),r=Jn({context:t,callback:function(e){return!!A(e)&&n(e)},area:e});return o.addEventListener("focus",i,!0),{disengage:i}},key:Xn,visibleArea:Jn},version:Ve,noConflict:function(){return"undefined"!=typeof window&&window.ally===this&&(window.ally=yi),this}}},{"css.escape":2,platform:3}],2:[function(e,n,i){!function(e){var t;e=void 0!==e?e:this,t=function(e){var t;return e.CSS&&e.CSS.escape?e.CSS.escape:(t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),i=n.length,o=-1,r="",s=n.charCodeAt(0);++o<i;)r+=0!=(t=n.charCodeAt(o))?1<=t&&t<=31||127==t||0==o&&48<=t&&t<=57||1==o&&48<=t&&t<=57&&45==s?"\\"+t.toString(16)+" ":0==o&&1==i&&45==t||!(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?"\\"+n.charAt(o):n.charAt(o):"";return r},e.CSS||(e.CSS={}),e.CSS.escape=t)},"object"==typeof i?n.exports=t(e):t(e)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,s,l){!function(r){!function(){"use strict";function t(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function _(e){return e=N(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:t(e)}function A(e,t){for(var n in e)o.call(e,n)&&t(e[n],n,e)}function k(e){return null==e?t(e):R.call(e).slice(8,-1)}function L(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||e[t])}function O(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function M(n,i){var o=null,e=n,t=function(e,t){o=i(o,e,t,n)},r=-1,s=e?e.length:0;if("number"==typeof s&&-1<s&&s<=a)for(;++r<s;)t(e[r],r,e);else A(e,t);return o}function N(e){return String(e).replace(/^ +| +$/g,"")}function D(r){function e(e){return M(e,function(e,t){var n=t.pattern||O(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(r)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(r))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=_(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}var t=F,n=r&&"object"==typeof r&&"String"!=k(r),i=(n&&(t=r,r=null),t.navigator||{}),o=i.userAgent||"";r=r||o;var s,a,l=n||B==j,u=n?!!i.likeChrome:/\bChrome\b/.test(r)&&!/internal|\n/i.test(R.toString()),c="Object",d=n?c:"ScriptBridgingProxyObject",h=n?c:"Environment",f=n&&t.java?"JavaPackage":k(t.java),c=n?c:"RuntimeObject",f=/\bJava/.test(f)&&t.java,h=f&&k(t.environment)==h,p=f?"a":"",m=f?"b":"",g=t.document||{},v=t.operamini||t.opera,n=P.test(n=n&&v?v["[[Class]]"]:k(v))?n:v=null,b=r,y=[],x=null,o=r==o,w=o&&v&&"function"==typeof v.version&&v.version(),E=M([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||O(t))+"\\b","i").exec(r)&&(t.label||t)}),C=M(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||O(t))+"\\b","i").exec(r)&&(t.label||t)}),S=e([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),T=M({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}},function(e,t,n){return e||(t[S]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(S)]||RegExp("\\b"+O(n)+"(?:\\b|\\w*\\d)","i").exec(r))&&n}),I=M(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n,i,o=t.pattern||O(t);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(r))&&(n=e,o=o,t=t.label||t,i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},o&&t&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(i=i[/[\d.]+$/.exec(n)])&&(n="Windows "+i),n=String(n),e=_((n=o&&t?n.replace(RegExp(o,"i"),t):n).replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e}),E=E&&[E];if(T&&!S&&(S=e([T])),(s=/\bGoogle TV\b/.exec(S))&&(S=s[0]),/\bSimulator\b/i.test(r)&&(S=(S?S+" ":"")+"Simulator"),"Opera Mini"==C&&/\bOPiOS\b/.test(r)&&y.push("running in Turbo/Uncompressed mode"),"IE"==C&&/\blike iPhone OS\b/.test(r)?(T=(s=D(r.replace(/like iPhone OS/,""))).manufacturer,S=s.product):/^iP/.test(S)?(C=C||"Safari",I="iOS"+((s=/ OS ([\d_]+)/i.exec(r))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"!=C||/buntu/i.test(I)?T&&"Google"!=T&&(/Chrome/.test(C)&&!/\bMobile Safari\b/i.test(r)||/\bVita\b/.test(S))||/\bAndroid\b/.test(I)&&/^Chrome/.test(C)&&/\bVersion\//i.test(r)?(C="Android Browser",I=/\bAndroid\b/.test(I)?I:"Android"):"Silk"==C?(/\bMobi/i.test(r)||(I="Android",y.unshift("desktop mode")),/Accelerated *= *true/i.test(r)&&y.unshift("accelerated")):"PaleMoon"==C&&(s=/\bFirefox\/([\d.]+)\b/.exec(r))?y.push("identifying as Firefox "+s[1]):"Firefox"==C&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(r))?(I=I||"Firefox OS",S=S||s[1]):(!C||(s=!/\bMinefield\b/i.test(r)&&/\b(?:Firefox|Safari)\b/.exec(C)))&&(C&&!S&&/[\/,]|^[^(]+?\)/.test(r.slice(r.indexOf(s+"/")+8))&&(C=null),s=S||T||I)&&(S||T||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(I))&&(C=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(I)?I:s)+" Browser"):I="Kubuntu",w||(w=M(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",O(C),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(r)||0)[1]||null})),(s=("iCab"==E&&3<parseFloat(w)?"WebKit":/\bOpera\b/.test(C)&&(/\bOPR\b/.test(r)?"Blink":"Presto"))||(/\b(?:Midori|Nook|Safari)\b/i.test(r)&&!/^(?:Trident|EdgeHTML)$/.test(E)?"WebKit":!E&&/\bMSIE\b/i.test(r)&&("Mac OS"==I?"Tasman":"Trident"))||"WebKit"==E&&/\bPlayStation\b(?! Vita\b)/i.test(C)&&"NetFront")&&(E=[s]),"IE"==C&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(r)||0)[1])?(C+=" Mobile",I="Windows Phone "+(/\+$/.test(s)?s:s+".x"),y.unshift("desktop mode")):/\bWPDesktop\b/i.test(r)?(C="IE Mobile",I="Windows Phone 8.x",y.unshift("desktop mode"),w=w||(/\brv:([\d.]+)/.exec(r)||0)[1]):"IE"!=C&&"Trident"==E&&(s=/\brv:([\d.]+)/.exec(r))&&(C&&y.push("identifying as "+C+(w?" "+w:"")),C="IE",w=s[1]),o){if(L(t,"global"))if(f&&(b=(s=f.lang.System).getProperty("os.arch"),I=I||s.getProperty("os.name")+" "+s.getProperty("os.version")),l&&L(t,"system")&&(s=[t.system])[0]){I=I||s[0].os||null;try{s[1]=t.require("ringo/engine").version,w=s[1].join("."),C="RingoJS"}catch(e){s[0].global.system==t.system&&(C="Narwhal")}}else"object"==typeof t.process&&!t.process.browser&&(s=t.process)?(C="Node.js",b=s.arch,I=s.platform,w=/[\d.]+/.exec(s.version)[0]):h&&(C="Rhino");else k(s=t.runtime)==d?(C="Adobe AIR",I=s.flash.system.Capabilities.os):k(s=t.phantom)==c?(C="PhantomJS",w=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof g.documentMode&&(s=/\bTrident\/(\d+)/i.exec(r))&&(w=[w,g.documentMode],(s=+s[1]+4)!=w[1]&&(y.push("IE "+w[1]+" mode"),E&&(E[1]=""),w[1]=s),w="IE"==C?String(w[1].toFixed(1)):w[0]);I=I&&_(I)}w&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(w)||/(?:alpha|beta)(?: ?\d)?/i.exec(r+";"+(o&&i.appMinorVersion))||/\bMinefield\b/i.test(r)&&"a")&&(x=/b/i.test(s)?"beta":"alpha",w=w.replace(RegExp(s+"\\+?$"),"")+("beta"==x?m:p)+(/\d+\+?/.exec(s)||"")),"Fennec"==C||"Firefox"==C&&/\b(?:Android|Firefox OS)\b/.test(I)?C="Firefox Mobile":"Maxthon"==C&&w?w=w.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(S)?(I=null,"Xbox 360"==S&&/\bIEMobile\b/.test(r)&&y.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(C)&&(!C||S||/Browser|Mobi/.test(C))||"Windows CE"!=I&&!/Mobi/i.test(r)?"IE"==C&&o&&null===t.external?y.unshift("platform preview"):(/\bBlackBerry\b/.test(S)||/\bBB10\b/.test(r))&&(s=(RegExp(S.replace(/ +/g," *")+"/([.\\d]+)","i").exec(r)||0)[1]||w)?(I=((s=[s,/BB10/.test(r)])[1]?(S=null,T="BlackBerry"):"Device Software")+" "+s[0],w=null):this!=A&&"Wii"!=S&&(o&&v||/Opera/.test(C)&&/\b(?:MSIE|Firefox)\b/i.test(r)||"Firefox"==C&&/\bOS X (?:\d+\.){2,}/.test(I)||"IE"==C&&(I&&!/^Win/.test(I)&&5.5<w||/\bWindows XP\b/.test(I)&&8<w||8==w&&!/\bTrident\b/.test(r)))&&!P.test(s=D.call(A,r.replace(P,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),P.test(C)?(/\bIE\b/.test(s)&&"Mac OS"==I&&(I=null),s="identify"+s):(s="mask"+s,C=n?_(n.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(I=null),o||(w=null)),E=["Presto"],y.push(s)):C+=" Mobile",(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(r)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==C&&"+"==s[1].slice(-1)?(C="WebKit Nightly",x="alpha",w=s[1].slice(0,-1)):w!=s[1]&&w!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(r)||0)[1])||(w=null),s[1]=(/\bChrome\/([\d.]+)/i.exec(r)||0)[1],537.36==s[0]&&537.36==s[2]&&28<=parseFloat(s[1])&&"WebKit"==E&&(E=["Blink"]),s=o&&(u||s[1])?(E&&(E[1]="like Chrome"),s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=E?"27":"28")):(E&&(E[1]="like Safari"),(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:"8"),E&&(E[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==C)&&(!w||45<parseInt(w))&&(w=s),"Opera"==C&&(s=/\bzbov|zvav$/.exec(I))?(C+=" ",y.unshift("desktop mode"),"zvav"==s?(C+="Mini",w=null):C+="Mobile",I=I.replace(RegExp(" *"+s+"$"),"")):"Safari"==C&&/\bChrome\b/.exec(E&&E[1])&&(y.unshift("desktop mode"),C="Chrome Mobile",w=null,I=/\bOS X\b/.test(I)?(T="Apple","iOS 4.3+"):null),w&&0==w.indexOf(s=/[\d.]+$/.exec(I))&&-1<r.indexOf("/"+s+"-")&&(I=N(I.replace(s,""))),E&&!/\b(?:Avant|Nook)\b/.test(C)&&(/Browser|Lunascape|Maxthon/.test(C)||"Safari"!=C&&/^iOS/.test(I)&&/\bSafari\b/.test(E[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(C)&&E[1])&&(s=E[E.length-1])&&y.push(s),y.length&&(y=["("+y.join("; ")+")"]),T&&S&&S.indexOf(T)<0&&y.push("on "+T),S&&y.push((/^on /.test(y[y.length-1])?"":"on ")+S),I&&(s=/ ([\d.+]+)$/.exec(I),a=s&&"/"==I.charAt(I.length-s[0].length-1),I={architecture:32,family:s&&!a?I.replace(s[0],""):I,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!a?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(b))&&!/\bi686\b/i.test(b)?(I&&(I.architecture=64,I.family=I.family.replace(RegExp(" *"+s),"")),C&&(/\bWOW64\b/i.test(r)||o&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(r))&&y.unshift("32-bit")):I&&/^OS X/.test(I.family)&&"Chrome"==C&&39<=parseFloat(w)&&(I.architecture=64),r=r||null;f={};return f.description=r,f.layout=E&&E[0],f.manufacturer=T,f.name=C,f.prerelease=x,f.product=S,f.ua=r,f.version=C&&w,f.os=I||{architecture:null,family:null,version:null,toString:function(){return"null"}},f.parse=D,f.toString=function(){return this.description||""},f.version&&y.unshift(w),f.name&&y.unshift(C),I&&C&&(I!=String(I).split(" ")[0]||I!=C.split(" ")[0]&&!S)&&y.push(S?"("+I+")":"on "+I),y.length&&(f.description=y.join(" ")),f}var e={function:!0,object:!0},F=e[typeof window]&&window||this,j=F,n=e[typeof l]&&l,e=e[typeof s]&&s&&!s.nodeType&&s,i=n&&e&&"object"==typeof r&&r,a=(!i||i.global!==i&&i.window!==i&&i.self!==i||(F=i),Math.pow(2,53)-1),P=/\bOpera/,B=this,i=Object.prototype,o=i.hasOwnProperty,R=i.toString,i=D();n&&e?A(i,function(e,t){n[t]=e}):F.platform=i}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(){function i(e){e=Array.isArray(e)?{label:e[0],value:e[1]}:"object"==typeof e&&"label"in e&&"value"in e?e:{label:e,value:e};this.label=e.label||e.value,this.value=e.value}function u(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function e(e,t){return n.call((t||document).querySelectorAll(e))}function t(){e("input.awesomplete").forEach(function(e){new c(e)})}function c(e,t){var n,i=this,o=(this.isOpened=!1,this.input=u(e),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),this),r={minChars:2,maxItems:10,autoFirst:!1,data:c.DATA,filter:c.FILTER_CONTAINS,sort:!1!==(t=t||{}).sort&&c.SORT_BYLENGTH,item:c.ITEM,replace:c.REPLACE},s=t;for(n in r){var a=r[n],l=o.input.getAttribute("data-"+n.toLowerCase());"number"==typeof a?o[n]=parseInt(l):!1===a?o[n]=null!==l:a instanceof Function?o[n]=null:o[n]=l,o[n]||0===o[n]||(o[n]=n in s?s[n]:a)}this.index=-1,this.container=u.create("div",{className:"awesomplete",around:e}),this.ul=u.create("ul",{hidden:"hidden",inside:this.container}),this.status=u.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(e){var t=e.keyCode;i.opened&&(13===t&&i.selected?(e.preventDefault(),i.select()):27===t?i.close({reason:"esc"}):38!==t&&40!==t||(e.preventDefault(),i[38===t?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&(e.preventDefault(),i.select(t,e.target))}}}},u.bind(this.input,this._events.input),u.bind(this.input.form,this._events.form),u.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||t.list||[],c.all.push(this)}c.prototype={set list(e){var i;Array.isArray(e)?this._list=e:"string"==typeof e&&-1<e.indexOf(",")?this._list=e.split(/\s*,\s*/):(e=u(e))&&e.children&&(i=[],n.apply(e.children).forEach(function(e){var t,n;e.disabled||(t=e.textContent.trim(),n=e.value||t,e=e.label||t,""!==n&&i.push({label:e,value:n}))}),this._list=i),document.activeElement===this.input&&this.evaluate()},get selected(){return-1<this.index},get opened(){return this.isOpened},close:function(e){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,u.fire(this.input,"awesomplete-close",e||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),u.fire(this.input,"awesomplete-open")},destroy:function(){u.unbind(this.input,this._events.input),u.unbind(this.input.form,this._events.form);var e=this.container.parentNode,e=(e.insertBefore(this.input,this.container),e.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete"),c.all.indexOf(this));-1!==e&&c.all.splice(e,1)},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:e?0:-1)},previous:function(){var e=this.ul.children.length,t=this.index-1;this.goto(this.selected&&-1!=t?t:e-1)},goto:function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),-1<(this.index=e)&&0<t.length&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent,this.ul.scrollTop=t[e].offsetTop-this.ul.clientHeight+t[e].clientHeight,u.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(e,t){var n;e?this.index=u.siblingIndex(e):e=this.ul.children[this.index],e&&(n=this.suggestions[this.index],u.fire(this.input,"awesomplete-select",{text:n,origin:t||e}))&&(this.replace(n),this.close({reason:"select"}),u.fire(this.input,"awesomplete-selectcomplete",{text:n}))},evaluate:function(){var t=this,n=this.input.value;!(n.length>=this.minChars&&0<this._list.length)||(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(e){return new i(t.data(e,n))}).filter(function(e){return t.filter(e,n)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(e){t.ul.appendChild(t.item(e,n))}),0===this.ul.children.length)?this.close({reason:"nomatches"}):this.open()}},c.all=[],c.FILTER_CONTAINS=function(e,t){return RegExp(u.regExpEscape(t.trim()),"i").test(e)},c.FILTER_STARTSWITH=function(e,t){return RegExp("^"+u.regExpEscape(t.trim()),"i").test(e)},c.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},c.ITEM=function(e,t){return u.create("li",{innerHTML:""===t.trim()?e:e.replace(RegExp(u.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})},c.REPLACE=function(e){this.input.value=e.value},c.DATA=function(e){return e},Object.defineProperty(i.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),i.prototype.toString=i.prototype.valueOf=function(){return""+this.label};var n=Array.prototype.slice;u.create=function(e,t){var n,i=document.createElement(e);for(n in t){var o,r=t[n];"inside"===n?u(r).appendChild(i):"around"===n?((o=u(r)).parentNode.insertBefore(i,o),i.appendChild(o)):n in i?i[n]=r:i.setAttribute(n,r)}return i},u.bind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,i)})}},u.unbind=function(t,e){if(t)for(var n in e){var i=e[n];n.split(/\s+/).forEach(function(e){t.removeEventListener(e,i)})}},u.fire=function(e,t,n){var i,o=document.createEvent("HTMLEvents");for(i in o.initEvent(t,!0,!0),n)o[i]=n[i];return e.dispatchEvent(o)},u.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},u.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)),c.$=u,c.$$=e,"undefined"!=typeof self&&(self.Awesomplete=c),"object"==typeof module&&module.exports&&(module.exports=c)}(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Choices=t():e.Choices=t()}(this,function(){return i=[function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var o=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e},r=i(n(2)),a=i(n(3)),l=n(29),g=n(30);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n(31);o(u,[{key:"init",value:function(){var e;!0!==this.initialised&&(e=this.config.callbackOnInit,this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),e)&&(0,g.isType)("Function",e)&&e.call(this)}},{key:"destroy",value:function(){!1!==this.initialised&&(this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute("tabindex"),this.passedElement.removeAttribute("style","display:none;"),this.passedElement.removeAttribute("aria-hidden"),this.passedElement.removeAttribute("data-choice","active"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1)}},{key:"renderGroups",value:function(e,i,t){var o=this,r=t||document.createDocumentFragment(),t=this.config.sortFilter;return this.config.shouldSort&&e.sort(t),e.forEach(function(t){var e,n=i.filter(function(e){return"select-one"===o.passedElement.type?e.groupId===t.id:e.groupId===t.id&&!e.selected});1<=n.length&&(e=o._getTemplate("choiceGroup",t),r.appendChild(e),o.renderChoices(n,r))}),r}},{key:"renderChoices",value:function(e,t){var n=this,i=t||document.createDocumentFragment(),t=this.isSearching?g.sortByScore:this.config.sortFilter;return(this.config.shouldSort||this.isSearching)&&e.sort(t),e.forEach(function(e){var t=n._getTemplate("choice",e);"select-one"!==n.passedElement.type&&e.selected||i.appendChild(t)}),i}},{key:"renderItems",value:function(e,t){var n,i=this,o=t||document.createDocumentFragment(),t=this.store.getItemsReducedToValues(e);return this.isTextElement?this.passedElement.setAttribute("value",t.join(this.config.delimiter)):(n=document.createDocumentFragment(),e.forEach(function(e){e=i._getTemplate("option",e);n.appendChild(e)}),this.passedElement.innerHTML="",this.passedElement.appendChild(n)),e.forEach(function(e){e=i._getTemplate("item",e);o.appendChild(e)}),o}},{key:"render",value:function(){var e,t,n;this.currentState=this.store.getState(),this.currentState!==this.prevState&&(this.currentState.choices===this.prevState.choices&&this.currentState.groups===this.prevState.groups||"select-multiple"!==this.passedElement.type&&"select-one"!==this.passedElement.type||(e=this.store.getGroupsFilteredByActive(),t=this.store.getChoicesFilteredByActive(),n=document.createDocumentFragment(),this.choiceList.innerHTML="",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),1<=e.length&&!0!==this.isSearching?n=this.renderGroups(e,t,n):1<=t.length&&(n=this.renderChoices(t,n)),e=this.store.getItemsFilteredByActive(),t=this._canAddItem(e,this.input.value),n.childNodes&&0<n.childNodes.length?t.response?(this.choiceList.appendChild(n),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate("notice",t.notice)):(n=e=void 0,n=this.isSearching?(0,g.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText:(0,g.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,e=this._getTemplate("notice",n),this.choiceList.appendChild(e))),this.currentState.items!==this.prevState.items&&(t=this.store.getItemsFilteredByActive())&&(n=this.renderItems(t),this.itemList.innerHTML="",n.childNodes)&&this.itemList.appendChild(n),this.prevState=this.currentState)}},{key:"highlightItem",value:function(e){var t,n,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(e)return t=e.id,n=0<=(n=e.groupId)?this.store.getGroupById(n):null,this.store.dispatch((0,l.highlightItem)(t,!0)),i&&(n&&n.value?(0,g.triggerEvent)(this.passedElement,"highlightItem",{id:t,value:e.value,label:e.label,groupValue:n.value}):(0,g.triggerEvent)(this.passedElement,"highlightItem",{id:t,value:e.value,label:e.label})),this}},{key:"unhighlightItem",value:function(e){var t,n;if(e)return t=e.id,n=0<=(n=e.groupId)?this.store.getGroupById(n):null,this.store.dispatch((0,l.highlightItem)(t,!1)),n&&n.value?(0,g.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label,groupValue:n.value}):(0,g.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label}),this}},{key:"highlightAll",value:function(){var t=this;return this.store.getItems().forEach(function(e){t.highlightItem(e)}),this}},{key:"unhighlightAll",value:function(){var t=this;return this.store.getItems().forEach(function(e){t.unhighlightItem(e)}),this}},{key:"removeItemsByValue",value:function(t){var n=this;if(t&&(0,g.isType)("String",t))return this.store.getItemsFilteredByActive().forEach(function(e){e.value===t&&n._removeItem(e)}),this;this.config.silent||console.error("removeItemsByValue: No value was passed to be removed")}},{key:"removeActiveItems",value:function(t){var n=this;return this.store.getItemsFilteredByActive().forEach(function(e){e.active&&t!==e.id&&n._removeItem(e)}),this}},{key:"removeHighlightedItems",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.store.getItemsFilteredByActive().forEach(function(e){e.highlighted&&e.active&&(t._removeItem(e),n)&&t._triggerChange(e.value)}),this}},{key:"showDropdown",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=document.body,n=document.documentElement,t=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),n=(this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","true"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","true"),this.dropdown.getBoundingClientRect()),n=Math.ceil(n.top+window.scrollY+this.dropdown.offsetHeight),i=!1;return"auto"===this.config.position?i=t<=n:"top"===this.config.position&&(i=!0),i&&this.containerOuter.classList.add(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,g.triggerEvent)(this.passedElement,"showDropdown",{}),this}},{key:"hideDropdown",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","false"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","false"),t&&this.containerOuter.classList.remove(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,g.triggerEvent)(this.passedElement,"hideDropdown",{}),this}},{key:"toggleDropdown",value:function(){return this.dropdown.classList.contains(this.config.classNames.activeState)?this.hideDropdown():this.showDropdown(!0),this}},{key:"getValue",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.store.getItemsFilteredByActive(),i=[];return e.forEach(function(e){(t.isTextElement||e.active)&&i.push(n?e.value:e)}),"select-one"===this.passedElement.type?i[0]:i}},{key:"setValue",value:function(e){var n,t,i=this;return!0===this.initialised&&(e=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)),n=this.passedElement.type,t=function(e){var t=(0,g.getType)(e);"Object"===t?e.value&&("text"!==n?i._addChoice(!0,!1,e.value,e.label,-1):i._addItem(e.value,e.label,e.id)):"String"===t&&("text"!==n?i._addChoice(!0,!1,e,e,-1):i._addItem(e))},1<e.length?e.forEach(function(e){t(e)}):t(e[0])),this}},{key:"setValueByChoice",value:function(e){var n,i=this;return"text"!==this.passedElement.type&&(n=this.store.getChoices(),((0,g.isType)("Array",e)?e:[e]).forEach(function(t){var e=n.find(function(e){return e.value===t});e?e.selected?i.config.silent||console.warn("Attempting to select choice already selected"):i._addItem(e.value,e.label,e.id,e.groupId):i.config.silent||console.warn("Attempting to select choice that does not exist")})),this}},{key:"setChoices",value:function(e,o,r){var s=this,t=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!0===this.initialised&&this.isSelectElement){if(!(0,g.isType)("Array",e)||!o)return;t&&this._clearChoices(),e&&e.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),e.forEach(function(e,t){var n=!!e.selected&&e.selected,i=!!e.disabled&&e.disabled;e.choices?s._addGroup(e,e.id||null,o,r):s._addChoice(n,i,e[o],e[r])}))}return this}},{key:"clearStore",value:function(){return this.store.dispatch((0,l.clearAll)()),this}},{key:"clearInput",value:function(){return this.input.value&&(this.input.value=""),"select-one"!==this.passedElement.type&&this._setInputWidth(),"text"!==this.passedElement.type&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,l.activateChoices)(!0))),this}},{key:"enable",value:function(){this.passedElement.disabled=!1;var e=this.containerOuter.classList.contains(this.config.classNames.disabledState);return this.initialised&&e&&(this._addEventListeners(),this.passedElement.removeAttribute("disabled"),this.input.removeAttribute("disabled"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute("aria-disabled"),"select-one"===this.passedElement.type)&&this.containerOuter.setAttribute("tabindex","0"),this}},{key:"disable",value:function(){this.passedElement.disabled=!0;var e=!this.containerOuter.classList.contains(this.config.classNames.disabledState);return this.initialised&&e&&(this._removeEventListeners(),this.passedElement.setAttribute("disabled",""),this.input.setAttribute("disabled",""),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute("aria-disabled","true"),"select-one"===this.passedElement.type)&&this.containerOuter.setAttribute("tabindex","-1"),this}},{key:"ajax",value:function(e){return!0===this.initialised&&this.isSelectElement&&(this._handleLoadingState(!0),e(this._ajaxCallback())),this}},{key:"_triggerChange",value:function(e){e&&(0,g.triggerEvent)(this.passedElement,"change",{value:e})}},{key:"_handleButtonAction",value:function(e,t){var n;e&&t&&this.config.removeItems&&this.config.removeItemButton&&(n=t.parentNode.getAttribute("data-id"),t=e.find(function(e){return e.id===parseInt(n,10)}),this._removeItem(t),this._triggerChange(t.value),"select-one"===this.passedElement.type)&&(e=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder")))&&(t=this._getTemplate("placeholder",e),this.itemList.appendChild(t))}},{key:"_handleItemAction",value:function(e,t){var n,i=this,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e&&t&&this.config.removeItems&&"select-one"!==this.passedElement.type&&(n=t.getAttribute("data-id"),e.forEach(function(e){e.id!==parseInt(n,10)||e.highlighted?o||e.highlighted&&i.unhighlightItem(e):i.highlightItem(e)}),document.activeElement!==this.input)&&this.input.focus()}},{key:"_handleChoiceAction",value:function(e,t){var n;e&&t&&(t=t.getAttribute("data-id"),t=this.store.getChoiceById(t),n=this.dropdown.classList.contains(this.config.classNames.activeState),(0,g.triggerEvent)(this.passedElement,"choice",{choice:t}),!t||t.selected||t.disabled||this._canAddItem(e,t.value).response&&(this._addItem(t.value,t.label,t.id,t.groupId),this._triggerChange(t.value)),this.clearInput(this.passedElement),n)&&"select-one"===this.passedElement.type&&(this.hideDropdown(),this.containerOuter.focus())}},{key:"_handleBackspace",value:function(e){var t;this.config.removeItems&&e&&(t=e[e.length-1],e=e.some(function(e){return!0===e.highlighted}),this.config.editItems&&!e&&t?(this.input.value=t.value,this._setInputWidth(),this._removeItem(t),this._triggerChange(t.value)):(e||this.highlightItem(t,!1),this.removeHighlightedItems(!0)))}},{key:"_canAddItem",value:function(e,t){var n=!0,i=(0,g.isType)("Function",this.config.addItemText)?this.config.addItemText(t):this.config.addItemText;return"select-multiple"!==this.passedElement.type&&"text"!==this.passedElement.type||0<this.config.maxItemCount&&this.config.maxItemCount<=e.length&&(i=(n=!1,g.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),"text"===this.passedElement.type&&this.config.addItems&&n&&this.config.regexFilter&&(n=this._regexFilter(t)),e.some(function(e){return e.value===(0,g.isType)("String",t)?t.trim():t})&&!this.config.duplicateItems&&"select-one"!==this.passedElement.type&&n&&(i=(n=!1,g.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(t):this.config.uniqueItemText),{response:n,notice:i}}},{key:"_handleLoadingState",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.itemList.querySelector("."+this.config.classNames.placeholder);e?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute("aria-busy","true"),"select-one"===this.passedElement.type?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.appendChild(t)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),e=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder")),"select-one"===this.passedElement.type?t.innerHTML=e||"":this.input.placeholder=e||"")}},{key:"_ajaxCallback",value:function(){var s=this;return function(e,o,r){e&&o&&((e=(0,g.isType)("Object",e)?[e]:e)&&(0,g.isType)("Array",e)&&e.length?(s._handleLoadingState(!1),e.forEach(function(e,t){var n=!!e.selected&&e.selected,i=!!e.disabled&&e.disabled;e.choices?s._addGroup(e,e.id||null,o,r):s._addChoice(n,i,e[o],e[r])})):s._handleLoadingState(!1),s.containerOuter.removeAttribute("aria-busy"))}}},{key:"_searchChoices",value:function(e){var t,n,e=(0,g.isType)("String",e)?e.trim():e,i=(0,g.isType)("String",this.currentValue)?this.currentValue.trim():this.currentValue;1<=e.length&&e!==i+" "&&(i=this.store.getChoicesFilteredBySelectable(),t=e,n=(0,g.isType)("Array",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],n=Object.assign(this.config.fuseOptions,{keys:n}),i=new r.default(i,n).search(t),this.currentValue=e,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,l.filterChoices)(i)))}},{key:"_handleSearch",value:function(e){var t;e&&(t=this.store.getChoices().some(function(e){return!0!==e.active}),this.input===document.activeElement)&&(e&&e.length>=this.config.searchFloor?(this.config.searchChoices&&this._searchChoices(e),(0,g.triggerEvent)(this.passedElement,"search",{value:e})):t&&(this.isSearching=!1,this.store.dispatch((0,l.activateChoices)(!0))))}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this.passedElement.type&&"select-one"===this.passedElement.type&&(this.containerOuter.addEventListener("focus",this._onFocus),this.containerOuter.addEventListener("blur",this._onBlur)),this.input.addEventListener("input",this._onInput),this.input.addEventListener("paste",this._onPaste),this.input.addEventListener("focus",this._onFocus),this.input.addEventListener("blur",this._onBlur)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this.passedElement.type&&"select-one"===this.passedElement.type&&(this.containerOuter.removeEventListener("focus",this._onFocus),this.containerOuter.removeEventListener("blur",this._onBlur)),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("paste",this._onPaste),this.input.removeEventListener("focus",this._onFocus),this.input.removeEventListener("blur",this._onBlur)}},{key:"_setInputWidth",value:function(){var e;(!(this.config.placeholderValue||this.passedElement.getAttribute("placeholder")&&this.config.placeholder)||(e=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder")),this.input.value&&this.input.value.length>=e.length/1.25))&&(this.input.style.width=(0,g.getWidthOfInput)(this.input))}},{key:"_onKeyDown",value:function(i){var e,t,o,n,r,s,a,l,u,c,d,h,f,p=this;(i.target===this.input||this.containerOuter.contains(i.target))&&(t=i.target,o=this.passedElement.type,n=this.store.getItemsFilteredByActive(),r=this.input===document.activeElement,s=this.dropdown.classList.contains(this.config.classNames.activeState),a=this.itemList&&this.itemList.children,f=String.fromCharCode(i.keyCode),l=40,u=33,c=34,d=i.ctrlKey||i.metaKey,"text"!==o&&/[a-zA-Z0-9-_ ]/.test(f)&&!s&&this.showDropdown(!0),this.canSearch=this.config.searchEnabled,f=function(){var e,t,n;!s&&"select-one"!==o||(s||p.showDropdown(!0),p.canSearch=!1,e=i.keyCode===l||i.keyCode===c?1:-1,n=void 0,(n=i.metaKey||i.keyCode===c||i.keyCode===u?0<e?Array.from(p.dropdown.querySelectorAll("[data-choice-selectable]")).pop():p.dropdown.querySelector("[data-choice-selectable]"):(t=p.dropdown.querySelector("."+p.config.classNames.highlightedState))?(0,g.getAdjacentEl)(t,"[data-choice-selectable]",e):p.dropdown.querySelector("[data-choice-selectable]"))&&((0,g.isScrolledIntoView)(n,p.choiceList,e)||p._scrollToChoice(n,e),p._highlightChoice(n)),i.preventDefault())},h=function(){r&&!i.target.value&&"select-one"!==o&&(p._handleBackspace(n),i.preventDefault())},m(e={},65,function(){d&&a&&(p.canSearch=!1,p.config.removeItems)&&!p.input.value&&p.input===document.activeElement&&p.highlightAll(p.itemList.children)}),m(e,13,function(){var e;"text"===o&&t.value&&(e=p.input.value,p._canAddItem(n,e).response)&&(s&&p.hideDropdown(),p._addItem(e),p._triggerChange(e),p.clearInput(p.passedElement)),t.hasAttribute("data-button")&&(p._handleButtonAction(n,t),i.preventDefault()),s?(i.preventDefault(),(e=p.dropdown.querySelector("."+p.config.classNames.highlightedState))&&p._handleChoiceAction(n,e)):"select-one"!==o||s||(p.showDropdown(!0),i.preventDefault())}),m(e,27,function(){s&&(p.toggleDropdown(),p.containerOuter.focus())}),m(e,38,f),m(e,u,f),m(e,l,f),m(e,c,f),m(e,8,h),m(e,46,h),(f=e)[i.keyCode])&&f[i.keyCode]()}},{key:"_onKeyUp",value:function(e){var t,n,i;e.target===this.input&&(i=this.input.value,t=this.store.getItemsFilteredByActive(),t=this._canAddItem(t,i),this.isTextElement?(n=this.dropdown.classList.contains(this.config.classNames.activeState),i?(t.notice&&(i=this._getTemplate("notice",t.notice),this.dropdown.innerHTML=i.outerHTML),!0===t.response?n||this.showDropdown():!t.notice&&n&&this.hideDropdown()):n&&this.hideDropdown()):46!==e.keyCode&&8!==e.keyCode||e.target.value?this.canSearch&&t.response&&this._handleSearch(this.input.value):"text"!==this.passedElement.type&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,l.activateChoices)(!0))),this.canSearch=this.config.search)}},{key:"_onInput",value:function(){"select-one"!==this.passedElement.type&&this._setInputWidth()}},{key:"_onTouchMove",value:function(){!0===this.wasTap&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(e){var t=e.target||e.touches[0].target,n=this.dropdown.classList.contains(this.config.classNames.activeState);!0===this.wasTap&&this.containerOuter.contains(t)&&(t!==this.containerOuter&&t!==this.containerInner||"select-one"===this.passedElement.type||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():n||this.showDropdown(!0)),e.stopPropagation()),this.wasTap=!0}},{key:"_onMouseDown",value:function(e){var t,n,i,o=e.target;this.containerOuter.contains(o)&&o!==this.input&&(t=void 0,n=this.store.getItemsFilteredByActive(),i=e.shiftKey,(t=(0,g.findAncestorByAttrName)(o,"data-button"))?this._handleButtonAction(n,t):(t=(0,g.findAncestorByAttrName)(o,"data-item"))?this._handleItemAction(n,t,i):(t=(0,g.findAncestorByAttrName)(o,"data-choice"))&&this._handleChoiceAction(n,t),e.preventDefault())}},{key:"_onClick",value:function(e){var e=e.target,t=this.dropdown.classList.contains(this.config.classNames.activeState),n=this.store.getItemsFilteredByActive();this.containerOuter.contains(e)?(e.hasAttribute("data-button")&&this._handleButtonAction(n,e),t?"select-one"!==this.passedElement.type||e===this.input||this.dropdown.contains(e)||this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus())):(n.some(function(e){return!0===e.highlighted})&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),t&&this.hideDropdown())}},{key:"_onMouseOver",value:function(e){(e.target===this.dropdown||this.dropdown.contains(e.target))&&e.target.hasAttribute("data-choice")&&this._highlightChoice(e.target)}},{key:"_onPaste",value:function(e){e.target!==this.input||this.config.paste||e.preventDefault()}},{key:"_onFocus",value:function(e){var t,n=this,i=e.target;this.containerOuter.contains(i)&&(t=this.dropdown.classList.contains(this.config.classNames.activeState),{text:function(){i===n.input&&n.containerOuter.classList.add(n.config.classNames.focusState)},"select-one":function(){n.containerOuter.classList.add(n.config.classNames.focusState),i!==n.input||t||n.showDropdown()},"select-multiple":function(){i===n.input&&(n.containerOuter.classList.add(n.config.classNames.focusState),t||n.showDropdown(!0))}}[this.passedElement.type]())}},{key:"_onBlur",value:function(e){var t,n,i=this,o=e.target;this.containerOuter.contains(o)&&(e=this.store.getItemsFilteredByActive(),t=this.dropdown.classList.contains(this.config.classNames.activeState),n=e.some(function(e){return!0===e.highlighted}),{text:function(){o===i.input&&(i.containerOuter.classList.remove(i.config.classNames.focusState),n&&i.unhighlightAll(),t)&&i.hideDropdown()},"select-one":function(){i.containerOuter.classList.remove(i.config.classNames.focusState),o===i.containerOuter&&t&&!i.canSearch&&i.hideDropdown(),o===i.input&&t&&i.hideDropdown()},"select-multiple":function(){o===i.input&&(i.containerOuter.classList.remove(i.config.classNames.focusState),t&&i.hideDropdown(),n)&&i.unhighlightAll()}}[this.passedElement.type]())}},{key:"_regexFilter",value:function(e){var t;if(e)return t=this.config.regexFilter,new RegExp(t.source,"i").test(e)}},{key:"_scrollToChoice",value:function(e,o){var t,n,r,i,s=this;e&&(n=this.choiceList.offsetHeight,t=e.offsetHeight,t=e.offsetTop+t,n=this.choiceList.scrollTop+n,r=0<o?this.choiceList.scrollTop+t-n:e.offsetTop,i=function t(){var e=s.choiceList.scrollTop,n=!1,i=void 0;0<o?(s.choiceList.scrollTop=e+(1<(i=(r-e)/4)?i:1),e<r&&(n=!0)):(s.choiceList.scrollTop=e-(1<(i=(e-r)/4)?i:1),r<e&&(n=!0)),n&&requestAnimationFrame(function(e){t()})},requestAnimationFrame(function(e){i()}))}},{key:"_highlightChoice",value:function(e){var t=this,n=Array.from(this.dropdown.querySelectorAll("[data-choice-selectable]"));n&&n.length&&(Array.from(this.dropdown.querySelectorAll("."+this.config.classNames.highlightedState)).forEach(function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")}),e?this.highlightPosition=n.indexOf(e):e=(e=n.length>this.highlightPosition?n[this.highlightPosition]:n[n.length-1])||n[0],e.classList.add(this.config.classNames.highlightedState),e.setAttribute("aria-selected","true"),this.containerOuter.setAttribute("aria-activedescendant",e.id),this.input.setAttribute("aria-activedescendant",e.id))}},{key:"_addItem",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,e=(0,g.isType)("String",e)?e.trim():e,o=this.store.getItems(),t=t||e,n=parseInt(n,10)||-1,r=0<=i?this.store.getGroupById(i):null,o=o?o.length+1:1;return this.config.prependValue&&(e=this.config.prependValue+e.toString()),this.config.appendValue&&(e+=this.config.appendValue.toString()),this.store.dispatch((0,l.addItem)(e,t,o,n,i)),"select-one"===this.passedElement.type&&this.removeActiveItems(o),r&&r.value?(0,g.triggerEvent)(this.passedElement,"addItem",{id:o,value:e,label:t,groupValue:r.value}):(0,g.triggerEvent)(this.passedElement,"addItem",{id:o,value:e,label:t}),this}},{key:"_removeItem",value:function(e){var t,n,i,o;if(e&&(0,g.isType)("Object",e))return t=e.id,n=e.value,i=e.label,o=e.choiceId,e=0<=(e=e.groupId)?this.store.getGroupById(e):null,this.store.dispatch((0,l.removeItem)(t,o)),e&&e.value?(0,g.triggerEvent)(this.passedElement,"removeItem",{id:t,value:n,label:i,groupValue:e.value}):(0,g.triggerEvent)(this.passedElement,"removeItem",{id:t,value:n,label:i}),this;this.config.silent||console.error("removeItem: No item object was passed to be removed")}},{key:"_addChoice",value:function(e,t,n,i){var o,r,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1;null!=n&&(o=(o=this.store.getChoices())?o.length+1:1,r=this.baseId+"-"+this.idNames.itemChoice+"-"+o,this.store.dispatch((0,l.addChoice)(n,i=i||n,o,s,t,r)),e)&&this._addItem(n,i,o)}},{key:"_clearChoices",value:function(){this.store.dispatch((0,l.clearChoices)())}},{key:"_addGroup",value:function(e,t){var o=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"value",s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"label",n=(0,g.isType)("Object",e)?e.choices:Array.from(e.getElementsByTagName("OPTION")),a=t||Math.floor((new Date).valueOf()*Math.random()),t=!!e.disabled&&e.disabled;n?(this.store.dispatch((0,l.addGroup)(e.label,a,!0,t)),n.forEach(function(e){var t=e.disabled||e.parentNode&&e.parentNode.disabled||!1,n=!!e.selected&&e.selected,i=(0,g.isType)("Object",e)?e[s]||e[r]:e.innerHTML;o._addChoice(n,t,e[r],i,a)})):this.store.dispatch((0,l.addGroup)(e.label,e.id,!1,e.disabled))}},{key:"_getTemplate",value:function(e){if(e){for(var t=this.config.templates,n=arguments.length,i=Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t[e].apply(t,i)}}},{key:"_createTemplates",value:function(){var t=this,n=this.config.classNames,e={containerOuter:function(e){return(0,g.strToEl)('\n          <div class="'+n.containerOuter+'" '+(t.isSelectElement?t.config.searchEnabled?'role="combobox" aria-autocomplete="list"':'role="listbox"':"")+' data-type="'+t.passedElement.type+'" '+("select-one"===t.passedElement.type?'tabindex="0"':"")+' aria-haspopup="true" aria-expanded="false" dir="'+e+'"></div>\n        ')},containerInner:function(){return(0,g.strToEl)('\n          <div class="'+n.containerInner+'"></div>\n        ')},itemList:function(){return(0,g.strToEl)('\n          <div class="'+n.list+" "+("select-one"===t.passedElement.type?n.listSingle:n.listItems)+'"></div>\n        ')},placeholder:function(e){return(0,g.strToEl)('\n          <div class="'+n.placeholder+'">'+e+"</div>\n        ")},item:function(e){return t.config.removeItemButton?(0,g.strToEl)('\n            <div class="'+n.item+" "+(e.highlighted?n.highlightedState:"")+" "+(e.disabled?"":n.itemSelectable)+'" data-item data-id="'+e.id+'" data-value="'+e.value+'" '+(e.active?'aria-selected="true"':"")+" "+(e.disabled?'aria-disabled="true"':"")+" data-deletable>\n            "+e.label+'<button type="button" class="'+n.button+'" data-button>Remove item</button>\n            </div>\n          '):(0,g.strToEl)('\n          <div class="'+n.item+" "+(e.highlighted?n.highlightedState:n.itemSelectable)+'"  data-item data-id="'+e.id+'" data-value="'+e.value+'" '+(e.active?'aria-selected="true"':"")+" "+(e.disabled?'aria-disabled="true"':"")+">\n            "+e.label+"\n          </div>\n        ")},choiceList:function(){return(0,g.strToEl)('\n          <div class="'+n.list+'" dir="ltr" role="listbox" '+("select-one"!==t.passedElement.type?'aria-multiselectable="true"':"")+"></div>\n        ")},choiceGroup:function(e){return(0,g.strToEl)('\n          <div class="'+n.group+" "+(e.disabled?n.itemDisabled:"")+'" data-group data-id="'+e.id+'" data-value="'+e.value+'" role="group" '+(e.disabled?'aria-disabled="true"':"")+'>\n            <div class="'+n.groupHeading+'">'+e.value+"</div>\n          </div>\n        ")},choice:function(e){return(0,g.strToEl)('\n          <div class="'+n.item+" "+n.itemChoice+" "+(e.disabled?n.itemDisabled:n.itemSelectable)+'" data-select-text="'+t.config.itemSelectText+'" data-choice '+(e.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+' id="'+e.elementId+'" data-id="'+e.id+'" data-value="'+e.value+'" '+(0<e.groupId?'role="treeitem"':'role="option"')+">\n            "+e.label+"\n          </div>\n        ")},input:function(){return(0,g.strToEl)('\n          <input type="text" class="'+n.input+" "+n.inputCloned+'" autocomplete="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list">\n        ')},dropdown:function(){return(0,g.strToEl)('\n          <div class="'+n.list+" "+n.listDropdown+'" aria-expanded="false"></div>\n        ')},notice:function(e){return(0,g.strToEl)('\n          <div class="'+n.item+" "+n.itemChoice+'">'+e+"</div>\n        ")},option:function(e){return(0,g.strToEl)('\n          <option value="'+e.value+'" selected>'+e.label+"</option>\n        ")}},i=this.config.callbackOnCreateTemplates,o={};i&&(0,g.isType)("Function",i)&&(o=i.call(this,g.strToEl)),this.config.templates=(0,g.extend)(e,o)}},{key:"_createInput",value:function(){var t,o,r=this,e=this.passedElement.getAttribute("dir")||"ltr",e=this._getTemplate("containerOuter",e),n=this._getTemplate("containerInner"),i=this._getTemplate("itemList"),s=this._getTemplate("choiceList"),a=this._getTemplate("input"),l=this._getTemplate("dropdown"),u=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder"));this.containerOuter=e,this.containerInner=n,this.input=a,this.choiceList=s,this.itemList=i,this.dropdown=l,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex="-1",this.passedElement.setAttribute("style","display:none;"),this.passedElement.setAttribute("aria-hidden","true"),this.passedElement.setAttribute("data-choice","active"),(0,g.wrap)(this.passedElement,n),(0,g.wrap)(n,e),u&&(a.placeholder=u,"select-one"!==this.passedElement.type)&&(a.style.width=(0,g.getWidthOfInput)(a)),this.config.addItems||this.disable(),e.appendChild(n),e.appendChild(l),n.appendChild(i),"text"!==this.passedElement.type&&l.appendChild(s),"select-multiple"===this.passedElement.type||"text"===this.passedElement.type?n.appendChild(a):this.canSearch&&l.insertBefore(a,l.firstChild),this.isSelectElement?(u=Array.from(this.passedElement.getElementsByTagName("OPTGROUP")),this.highlightPosition=0,this.isSearching=!1,u&&u.length?u.forEach(function(e){r._addGroup(e,e.id||null)}):(e=Array.from(this.passedElement.options),i=this.config.sortFilter,t=this.presetChoices,e.forEach(function(e){t.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled})}),this.config.shouldSort&&t.sort(i),o=t.some(function(e){return!0===e.selected}),t.forEach(function(e,t){var n=!!e.disabled&&e.disabled,i=!!e.selected&&e.selected;"select-one"!==r.passedElement.type||o||!o&&0<t?r._addChoice(i,n,e.value,e.label):r._addChoice(!0,!1,e.value,e.label)}))):this.isTextElement&&this.presetItems.forEach(function(e){var t=(0,g.getType)(e);"Object"===t?e.value&&r._addItem(e.value,e.label,e.id):"String"===t&&r._addItem(e)})}}]);n=u;function u(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-choice]",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,o=u;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");if((0,g.isType)("String",e)){var r=document.querySelectorAll(e);if(1<r.length)for(var s=1;s<r.length;s++)new u(r[s],n)}i={silent:!1,items:[],choices:[],maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,sortFilter:g.sortByAlpha,placeholder:!0,placeholderValue:null,prependValue:null,appendValue:null,loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(e){return'Press Enter to add <b>"'+e+'"</b>'},maxItemText:function(e){return"Only "+e+" values can be added."},uniqueItemText:"Only unique values can be added.",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading"},fuseOptions:{include:"score"},callbackOnInit:null,callbackOnCreateTemplates:null};this.idNames={itemChoice:"item-choice"},this.config=(0,g.extend)(i,n),this.store=new a.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue="",this.element=e,this.passedElement=(0,g.isType)("String",e)?document.querySelector(e):e,this.isTextElement="text"===this.passedElement.type,this.isSelectElement="select-one"===this.passedElement.type||"select-multiple"===this.passedElement.type,this.passedElement?(this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,g.generateId)(this.passedElement,"choices-"),this.init=this.init.bind(this),this.render=this.render.bind(this),this.destroy=this.destroy.bind(this),this.disable=this.disable.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0,"classList"in document.documentElement||this.config.silent||console.error("Choices: Your browser doesn't support Choices"),o=["select-one","select-multiple","text"].some(function(e){return e===t.passedElement.type}),(0,g.isElement)(this.passedElement)&&o?"active"!==this.passedElement.getAttribute("data-choice")&&this.init():this.config.silent||console.error("Incompatible input passed")):this.config.silent||console.error("Passed element not found")}e.exports=n},function(t,e,n){!function(){"use strict";function E(){console.log.apply(console,arguments)}function e(e,t){for(var n in this.list=e,this.options=t=t||{},i)i.hasOwnProperty(n)&&(this.options[n]="boolean"==typeof i[n]?(n in t?t:i)[n]:t[n]||i[n])}function C(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e,t){this.options=t=t||{},this.options.location=t.location||n.defaultOptions.location,this.options.distance=("distance"in t?t:n.defaultOptions).distance,this.options.threshold=("threshold"in t?t:n.defaultOptions).threshold,this.options.maxPatternLength=t.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var i={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:n,sortFn:function(e,t){return e.score-t.score},getFn:function e(t,n,i){var o,r,s,a,l,u;if(n){if(-1!==(s=n.indexOf("."))?(o=n.slice(0,s),r=n.slice(s+1)):o=n,null!=(a=t[o]))if(r||"string"!=typeof a&&"number"!=typeof a)if(C(a))for(l=0,u=a.length;l<u;l++)e(a[l],r,i);else r&&e(a,r,i);else i.push(a)}else i.push(t);return i},keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};e.VERSION="2.7.3",e.prototype.set=function(e){return this.list=e},e.prototype.search=function(e){return this.options.verbose&&E("\nSearch term:",e,"\n"),this.pattern=e,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort(),this._format()},e.prototype._prepareSearchers=function(){var e=this.options,t=this.pattern,n=e.searchFn,i=t.split(e.tokenSeparator),o=0,r=i.length;if(this.options.tokenize)for(this.tokenSearchers=[];o<r;o++)this.tokenSearchers.push(new n(i[o],e));this.fullSeacher=new n(t,e)},e.prototype._startSearch=function(){var e,t,n,i,o,r=this.options.getFn,s=this.list,a=s.length,l=this.options.keys,u=l.length;if("string"==typeof s[0])for(n=0;n<a;n++)this._analyze("",s[n],n,n);else for(this._keyMap={},n=0;n<a;n++)for(o=s[n],i=0;i<u;i++){if("string"!=typeof(e=l[i])){if(t=1-e.weight||1,this._keyMap[e.name]={weight:t},e.weight<=0||1<e.weight)throw new Error("Key weight has to be > 0 and <= 1");e=e.name}else this._keyMap[e]={weight:1};this._analyze(e,r(o,e,[]),o,n)}},e.prototype._analyze=function(e,t,n,i){var o,r,s,a,l,u,c,d,h,f,p,m=this.options,g=!1;if(null!=t){var v=[],b=0;if("string"==typeof t){if(o=t.split(m.tokenSeparator),m.verbose&&E("---------\nKey:",e),this.options.tokenize){for(f=0;f<this.tokenSearchers.length;f++){for(u=this.tokenSearchers[f],m.verbose&&E("Pattern:",u.pattern),d=!(c=[]),p=0;p<o.length;p++){var y,x=o[p],w={};(y=u.search(x)).isMatch?(w[x]=y.score,d=g=!0,v.push(y.score)):(w[x]=1,this.options.matchAllTokens||v.push(1)),c.push(w)}d&&b++,m.verbose&&E("Token scores:",c)}for(r=v[0],a=v.length,f=1;f<a;f++)r+=v[f];r/=a,m.verbose&&E("Token score average:",r)}l=this.fullSeacher.search(t),m.verbose&&E("Full text score:",l.score),s=l.score,void 0!==r&&(s=(s+r)/2),m.verbose&&E("Score average:",s),h=!this.options.tokenize||!this.options.matchAllTokens||b>=this.tokenSearchers.length,m.verbose&&E("Check Matches",h),(g||l.isMatch)&&h&&((h=this.resultMap[i])?h.output.push({key:e,score:s,matchedIndices:l.matchedIndices}):(this.resultMap[i]={item:n,output:[{key:e,score:s,matchedIndices:l.matchedIndices}]},this.results.push(this.resultMap[i])))}else if(C(t))for(f=0;f<t.length;f++)this._analyze(e,t[f],n,i)}},e.prototype._computeScore=function(){var e,t,n,i,o,r,s,a,l=this._keyMap,u=this.results;for(this.options.verbose&&E("\n\nComputing score:\n"),e=0;e<u.length;e++){for(o=(i=u[e].output).length,s=1,t=n=0;t<o;t++)a=i[t].score*(r=l?l[i[t].key].weight:1),1!==r?s=Math.min(s,a):(n+=a,i[t].nScore=a);u[e].score=1===s?n/o:s,this.options.verbose&&E(u[e])}},e.prototype._sort=function(){var e=this.options;e.shouldSort&&(e.verbose&&E("\n\nSorting...."),this.results.sort(e.sortFn))},e.prototype._format=function(){var e,t,n,i,o=this.options,r=o.getFn,s=[],a=this.results,l=o.include;for(o.verbose&&E("\n\nOutput:\n\n",a),n=o.id?function(e){a[e].item=r(a[e].item,o.id,[])[0]}:function(){},i=function(e){var t,n,i,o,r,s=a[e];if(0<l.length){if(t={item:s.item},-1!==l.indexOf("matches"))for(i=s.output,t.matches=[],n=0;n<i.length;n++)r={indices:(o=i[n]).matchedIndices},o.key&&(r.key=o.key),t.matches.push(r);-1!==l.indexOf("score")&&(t.score=a[e].score)}else t=s.item;return t},e=0,t=a.length;e<t;e++)n(e),s.push(i(e));return s},n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){for(var e={},t=0,t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},n.prototype._bitapScore=function(e,t){e/=this.patternLen,t=Math.abs(this.options.location-t);return this.options.distance?e+t/this.options.distance:t?1:e},n.prototype.search=function(e){var t,n,i,o,r,s,a,l,u,c,d,h,f,p,m,g,v,b,y,x,w,E,C,S=this.options;if(e=S.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};if(this.patternLen>S.maxPatternLength){if(y=!!(b=e.match(new RegExp(this.pattern.replace(S.tokenSeparator,"|")))))for(w=[],t=0,E=b.length;t<E;t++)C=b[t],w.push([e.indexOf(C),C.length-1]);return{isMatch:y,score:y?.5:1,matchedIndices:w}}for(o=S.findAllMatches,r=S.location,i=e.length,s=S.threshold,a=e.indexOf(this.pattern,r),x=[],t=0;t<i;t++)x[t]=0;for(-1!=a&&(s=Math.min(this._bitapScore(0,a),s),-1!=(a=e.lastIndexOf(this.pattern,r+this.patternLen)))&&(s=Math.min(this._bitapScore(0,a),s)),a=-1,g=1,v=[],c=this.patternLen+i,t=0;t<this.patternLen;t++){for(l=0,u=c;l<u;)this._bitapScore(t,r+u)<=s?l=u:c=u,u=Math.floor((c-l)/2+l);for(c=u,d=Math.max(1,r-u+1),h=o?i:Math.min(r+u,i)+this.patternLen,(f=Array(h+2))[h+1]=(1<<t)-1,n=h;d<=n;n--)if((m=this.patternAlphabet[e.charAt(n-1)])&&(x[n-1]=1),f[n]=(f[n+1]<<1|1)&m,0!==t&&(f[n]|=(p[n+1]|p[n])<<1|1|p[n+1]),f[n]&this.matchmask&&(g=this._bitapScore(t,n-1))<=s){if(s=g,v.push(a=n-1),a<=r)break;d=Math.max(1,2*r-a)}if(this._bitapScore(t+1,r)>s)break;p=f}return{isMatch:0<=a,score:0===g?.001:g,matchedIndices:w=this._getMatchedIndices(x)}},n.prototype._getMatchedIndices=function(e){for(var t,n=[],i=-1,o=0,r=e.length;o<r;o++)(t=e[o])&&-1===i?i=o:t||-1===i||((t=o-1)-i+1>=this.options.minMatchCharLength&&n.push([i,t]),i=-1);return e[o-1]&&o-1-i+1>=this.options.minMatchCharLength&&n.push([i,o-1]),n},t.exports=e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e},o=n(4),n=n(25),r=(n=n)&&n.__esModule?n:{default:n},n=(i(s,[{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"subscribe",value:function(e){this.store.subscribe(e)}},{key:"getItems",value:function(){return this.store.getState().items}},{key:"getItemsFilteredByActive",value:function(){return this.getItems().filter(function(e){return!0===e.active},[])}},{key:"getItemsReducedToValues",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getItems()).reduce(function(e,t){return e.push(t.value),e},[])}},{key:"getChoices",value:function(){return this.store.getState().choices}},{key:"getChoicesFilteredByActive",value:function(){return this.getChoices().filter(function(e){return!0===e.active},[])}},{key:"getChoicesFilteredBySelectable",value:function(){return this.getChoices().filter(function(e){return!0!==e.disabled},[])}},{key:"getChoiceById",value:function(t){return!!t&&this.getChoicesFilteredByActive().find(function(e){return e.id===parseInt(t,10)})}},{key:"getGroups",value:function(){return this.store.getState().groups}},{key:"getGroupsFilteredByActive",value:function(){var e=this.getGroups(),n=this.getChoices();return e.filter(function(e){var e=!0===e.active&&!1===e.disabled,t=n.some(function(e){return!0===e.active&&!1===e.disabled});return e&&t},[])}},{key:"getGroupById",value:function(t){return this.getGroups().find(function(e){return e.id===t})}}]),s);function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.store=(0,o.createStore)(r.default,window.devToolsExtension?window.devToolsExtension():void 0)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.default=n,e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=i(n(5)),r=i(n(20)),s=i(n(22)),a=i(n(23)),l=i(n(24));i(n(21)),t.createStore=o.default,t.combineReducers=r.default,t.bindActionCreators=s.default,t.applyMiddleware=a.default,t.compose=l.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,i){function o(){d===c&&(d=c.slice())}function r(){return u}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var n=!0;return o(),d.push(t),function(){var e;n&&(n=!1,o(),e=d.indexOf(t),d.splice(e,1))}}function a(e){if(!(0,f.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,u=l(u,e)}finally{h=!1}for(var t=c=d,n=0;n<t.length;n++)t[n]();return e}if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var l=t,u=n,c=[],d=c,h=!1;return a({type:m.INIT}),(i={dispatch:a,subscribe:s,getState:r,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,a({type:m.INIT})}})[p.default]=function(){var n=s,e={subscribe:function(e){function t(){e.next&&e.next(u)}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return t(),{unsubscribe:n(t)}}};return e[p.default]=function(){return this},e},i};var f=i(n(6)),p=i(n(16)),m=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){var i=n(7),o=n(13),r=n(15),n=Function.prototype,s=Object.prototype,a=n.toString,l=s.hasOwnProperty,u=a.call(Object);e.exports=function(e){return!(!r(e)||"[object Object]"!=i(e))&&(null===(e=o(e))||"function"==typeof(e=l.call(e,"constructor")&&e.constructor)&&e instanceof e&&a.call(e)==u)}},function(e,t,n){var i=n(8),o=n(11),r=n(12),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(s&&s in Object(e)?o:r)(e)}},function(e,t,n){n=n(9).Symbol;e.exports=n},function(e,t,n){var n=n(10),i="object"==typeof self&&self&&self.Object===Object&&self,n=n||i||Function("return this")();e.exports=n},function(t,e){!function(e){e="object"==typeof e&&e&&e.Object===Object&&e;t.exports=e}.call(e,function(){return this}())},function(e,t,n){var n=n(8),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),n=e[a];try{var i=!(e[a]=void 0)}catch(e){}var o=s.call(e);return i&&(t?e[a]=n:delete e[a]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){n=n(14)(Object.getPrototypeOf,Object);e.exports=n},function(e,t){e.exports=function(t,n){return function(e){return t(n(e))}}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){e.exports=n(17)},function(e,i,o){!function(e,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=o(19),n=(n=n)&&n.__esModule?n:{default:n},e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t,t=(0,n.default)(e);i.default=t}.call(i,function(){return this}(),o(18)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;return"function"==typeof(e=e.Symbol)?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}},function(e,t,n){"use strict";function i(e){e&&e.__esModule}t.__esModule=!0,t.default=function(e){for(var t=Object.keys(e),c={},n=0;n<t.length;n++){var i=t[n];"function"==typeof e[i]&&(c[i]=e[i])}var d,o,h=Object.keys(c);try{o=c,Object.keys(o).forEach(function(e){var t=o[e];if(void 0===t(void 0,{type:r.ActionTypes.INIT}))throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===t(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+r.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}catch(e){d=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(d)throw d;for(var n,i=!1,o={},r=0;r<h.length;r++){var s,a=h[r],l=c[a],u=e[a],l=l(u,t);if(void 0===l)throw n=a,s="Given action "+((s=(s=t)&&s.type)&&'"'+s.toString()+'"'||"an action")+', reducer "'+n+'" returned undefined. To ignore an action, you must explicitly return the previous state.',new Error(s);o[a]=l,i=i||l!==u}return i?o:e}};var r=n(5),t=(i(n(6)),n(21));i(t)},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t){"use strict";function a(e,t){return function(){return t(e.apply(void 0,arguments))}}t.__esModule=!0,t.default=function(e,t){if("function"==typeof e)return a(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},o=0;o<n.length;o++){var r=n[o],s=e[r];"function"==typeof s&&(i[r]=a(s,t))}return i}},function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},t=(t.default=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return function(r){return function(e,t,n){var e=r(e,t,n),i=e.dispatch,o={getState:e.getState,dispatch:function(e){return i(e)}},t=s.map(function(e){return e(o)}),i=l.default.apply(void 0,t)(e.dispatch);return a({},e,{dispatch:i})}}},n(24)),l=(n=t)&&n.__esModule?n:{default:n}},function(e,t){"use strict";t.__esModule=!0,t.default=function(){for(var e,t,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return 0===i.length?function(e){return e}:1===i.length?i[0]:(e=i[i.length-1],t=i.slice(0,-1),function(){return t.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=i(n(26)),s=i(n(27)),n=i(n(28)),a=(0,o.combineReducers)({items:r.default,groups:s.default,choices:n.default});t.default=function(e,t){return"CLEAR_ALL"===t.type&&(e=void 0),a(e,t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_ITEM":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1}]).map(function(e){return e.highlighted&&(e.highlighted=!1),e});case"REMOVE_ITEM":return e.map(function(e){return e.id===t.id&&(e.active=!1),e});case"HIGHLIGHT_ITEM":return e.map(function(e){return e.id===t.id&&(e.highlighted=t.highlighted),e});default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_GROUP":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return e.groups=[];default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_CHOICE":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label,disabled:t.disabled,selected:!1,active:!0,score:9999}]);case"ADD_ITEM":var n=e;return t.activateOptions&&(n=e.map(function(e){return e.active=t.active,e})),n=-1<t.choiceId?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!0),e}):n;case"REMOVE_ITEM":return-1<t.choiceId?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!1),e}):e;case"FILTER_CHOICES":var i=t.results;return e.map(function(t){return t.active=i.some(function(e){return e.item.id===t.id&&(t.score=e.score,!0)}),t});case"ACTIVATE_CHOICES":return e.map(function(e){return e.active=t.active,e});case"CLEAR_CHOICES":return e.choices=[];default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addItem=function(e,t,n,i,o){return{type:"ADD_ITEM",value:e,label:t,id:n,choiceId:i,groupId:o}},t.removeItem=function(e,t){return{type:"REMOVE_ITEM",id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:"HIGHLIGHT_ITEM",id:e,highlighted:t}},t.addChoice=function(e,t,n,i,o,r){return{type:"ADD_CHOICE",value:e,label:t,id:n,groupId:i,disabled:o,elementId:r}},t.filterChoices=function(e){return{type:"FILTER_CHOICES",results:e}},t.activateChoices=function(){return{type:"ACTIVATE_CHOICES",active:!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},t.clearChoices=function(){return{type:"CLEAR_CHOICES"}},t.addGroup=function(e,t,n,i){return{type:"ADD_GROUP",value:e,id:t,active:n,disabled:i}},t.clearAll=function(){return{type:"CLEAR_ALL"}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(t.capitalise=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=l(0,36).toString(36);return t}),r=(t.generateId=function(e,t){e=e.id||e.name&&e.name+"-"+o(2)||o(4);return t+(e=e.replace(/(:|\.|\[|\]|,)/g,""))},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)}),a=t.isType=function(e,t){var n=r(t);return null!=t&&n===e},s=(t.isNode=function(e){return"object"===("undefined"==typeof Node?"undefined":i(Node))?e instanceof Node:e&&"object"===(void 0===e?"undefined":i(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},t.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":i(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.extend=function e(){for(var t={},n=arguments.length,i=0;i<n;i++){var o=arguments[i];if(a("Object",o)){s=void 0;var r=o;for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a("Object",r[s])?t[s]=e(!0,t[s],r[s]):t[s]=r[s])}}return t},t.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},t.whichAnimationEvent=function(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}),l=(t.getParentsUntil=function(e,t,n){for(var i=[];e&&e!==document;e=e.parentNode){if(t){var o=t.charAt(0);if("."===o&&e.classList.contains(t.substr(1)))break;if("#"===o&&e.id===t.substr(1))break;if("["===o&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}n&&("."===(o=n.charAt(0))&&e.classList.contains(n.substr(1))&&i.push(e),"#"===o&&e.id===n.substr(1)&&i.push(e),"["===o&&e.hasAttribute(n.substr(1,n.length-1))&&i.push(e),e.tagName.toLowerCase()!==n)||i.push(e)}return 0===i.length?null:i},t.wrap=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},t.getSiblings=function(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t},t.findAncestor=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},t.findAncestorByAttrName=function(e,t){for(var n=e;n;){if(n.hasAttribute(t))return n;n=n.parentElement}return null},t.debounce=function(i,o,r){var s;return function(){var e=this,t=arguments,n=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},t.getElemDistance=function(e){var t=0;if(e.offsetParent)for(;t+=e.offsetTop,e=e.offsetParent;);return 0<=t?t:0},t.getElementOffset=function(e,t){var n=t;return 0<(n=1<t?1:t)&&(n=0),Math.max(e.offsetHeight*n)},t.getAdjacentEl=function(e,t){var n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(e&&t)return n=e.parentNode.parentNode,t=(n=Array.from(n.querySelectorAll(t))).indexOf(e),n[t+(0<i?1:-1)]},t.getScrollPosition=function(e){return"bottom"===e?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},t.isInView=function(e,t,n){return this.getScrollPosition(t)>this.getElemDistance(e)+this.getElementOffset(e,n)},t.isScrolledIntoView=function(e,t){if(e)return 0<(2<arguments.length&&void 0!==arguments[2]?arguments[2]:1)?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop},t.stripHTML=function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""},t.addAnimation=function(e,t){function n(){e.classList.remove(t),e.removeEventListener(i,n,!1)}var i=s();e.classList.add(t),e.addEventListener(i,n,!1)},t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)}),u=t.strToEl=(n=document.createElement("div"),function(e){for(n.innerHTML=e,e=n.children[0];n.firstChild;)n.removeChild(n.firstChild);return e});t.getWidthOfInput=function(e){var t,n=e.value||e.placeholder,i=e.offsetWidth;return n&&((t=u("<span>"+n+"</span>")).style.position="absolute",t.style.padding="0",t.style.top="-9999px",t.style.left="-9999px",t.style.width="auto",t.style.whiteSpace="pre",document.body.appendChild(t),n&&t.offsetWidth!==e.offsetWidth&&(i=t.offsetWidth+4),document.body.removeChild(t)),i+"px"},t.sortByAlpha=function(e,t){e=(e.label||e.value).toLowerCase(),t=(t.label||t.value).toLowerCase();return e<t?-1:t<e?1:0},t.sortByScore=function(e,t){return e.score-t.score},t.triggerEvent=function(e,t){t=new CustomEvent(t,{detail:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,bubbles:!0,cancelable:!0});return e.dispatchEvent(t)}},function(e,t){"use strict";function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function l(e){return"function"==typeof e||"[object Function]"===i.call(e)}function u(e){return e=function(e){e=Number(e);return isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e}(e),Math.min(Math.max(e,0),o)}var i,o;Array.from||(Array.from=(i=Object.prototype.toString,o=Math.pow(2,53)-1,function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!l(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var o,r=u(t.length),s=l(this)?Object(new this(r)):new Array(r),a=0;a<r;)o=t[a],s[a]=i?void 0===n?i(o,a):i.call(n,o,a):o,a+=1;return s.length=r,s})),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(t=n[r],e.call(o,t,r,n))return t}),n.prototype=window.Event.prototype,window.CustomEvent=n}],o={},n.m=i,n.c=o,n.p="/assets/scripts/dist/",n(0);function n(e){var t;return(o[e]||(t=o[e]={exports:{},id:e,loaded:!1},i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t)).exports}var i,o}),window.document.onload=CheckCookieMessage(),jQuery(document).ready(function(){var n=!1;$(".favourite-button").click(function(){var e=$(this).data("cookie"),t=$(this).attr("active");setHeaderNumber("#favourite-count","false"==t||null==t?($(this).attr("active","true"),SetFavourite(e),1):($(this).attr("active","false"),EatCookie("UniSADegreeFavourites",e),-1)),setFavouriteState()}),$(".cta-block .compare-button-fav").click(function(){var e=$(this).data("cookie-piece"),t=$(this).attr("active");setHeaderNumber("#compare-count","false"==t||null==t?($(this).attr("active","true"),SetCompare(e),n=!0,1):($(this).attr("active","false"),EatCookie("UniSADegreeCompare",e),-1)),n=setCompareState()}),$(".favourite-delete-button").click(function(){var e=$(this).data("cookie-piece");$(this).attr("active");EatCookie("UniSADegreeFavourites",e),$(this).parent().remove(),setHeaderNumber("#favourite-count",-1)<=0&&($(".search-listing-block").hide(),$("#no-favourites").show()),setFavouriteState()}),n=setCompareState(),$("#compare-all-selected").click(function(){(n?$(".cta-block .compare-button-fav[active='true']"):$(".cta-block .compare-button-fav")).each(function(){SetCompare($(this).data("cookie-piece"))})}),setFavouriteState()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){t(e,window,document)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(a,r,e,s){"use strict";var l="intlTelInput",n=1,i={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customPlaceholder:null,dropdownContainer:"",excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,initialCountry:"",nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},u=38,c=40,d=13,h=27,t=43,f=65,p=90,m=32,o=9,g=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"];function v(e,t){this.telInput=a(e),this.options=a.extend({},i,t),this.ns="."+l+n++,this.isGoodBrowser=Boolean(e.setSelectionRange),this.hadInitialPlaceholder=Boolean(a(e).attr("placeholder"))}a(r).on("load",function(){a.fn[l].windowLoaded=!0}),v.prototype={_init:function(){return this.options.nationalMode&&(this.options.autoHideDialCode=!1),this.options.separateDialCode&&(this.options.autoHideDialCode=this.options.nationalMode=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(a("body").addClass("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer="body")),this.autoCountryDeferred=new a.Deferred,this.utilsScriptDeferred=new a.Deferred,this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests(),[this.autoCountryDeferred,this.utilsScriptDeferred]},_processCountryData:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries()},_addCountryCode:function(e,t,n){t in this.countryCodes||(this.countryCodes[t]=[]),this.countryCodes[t][n||0]=e},_processAllCountries:function(){var t,n;this.options.onlyCountries.length?(t=this.options.onlyCountries.map(function(e){return e.toLowerCase()}),this.countries=b.filter(function(e){return-1<t.indexOf(e.iso2)})):this.options.excludeCountries.length?(n=this.options.excludeCountries.map(function(e){return e.toLowerCase()}),this.countries=b.filter(function(e){return-1===n.indexOf(e.iso2)})):this.countries=b},_processCountryCodes:function(){this.countryCodes={};for(var e=0;e<this.countries.length;e++){var t=this.countries[e];if(this._addCountryCode(t.iso2,t.dialCode,t.priority),t.areaCodes)for(var n=0;n<t.areaCodes.length;n++)this._addCountryCode(t.iso2,t.dialCode+t.areaCodes[n])}},_processPreferredCountries:function(){this.preferredCountries=[];for(var e=0;e<this.options.preferredCountries.length;e++){var t=this.options.preferredCountries[e].toLowerCase(),t=this._getCountryData(t,!1,!0);t&&this.preferredCountries.push(t)}},_generateMarkup:function(){this.telInput.attr("autocomplete","off");var e="intl-tel-input",e=(this.options.allowDropdown&&(e+=" allow-dropdown"),this.options.separateDialCode&&(e+=" separate-dial-code"),this.telInput.wrap(a("<div>",{class:e})),this.flagsContainer=a("<div>",{class:"flag-container"}).insertBefore(this.telInput),a("<div>",{class:"selected-flag"}));e.appendTo(this.flagsContainer),this.selectedFlagInner=a("<div>",{class:"iti-flag"}).appendTo(e),this.options.separateDialCode&&(this.selectedDialCode=a("<div>",{class:"selected-dial-code"}).appendTo(e)),this.options.allowDropdown?(e.attr("tabindex","0"),a("<div>",{class:"iti-arrow"}).appendTo(e),this.countryList=a("<ul>",{class:"country-list hide"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"preferred"),a("<li>",{class:"divider"}).appendTo(this.countryList)),this._appendListItems(this.countries,""),this.countryListItems=this.countryList.children(".country"),this.options.dropdownContainer?this.dropdown=a("<div>",{class:"intl-tel-input iti-container"}).append(this.countryList):this.countryList.appendTo(this.flagsContainer)):this.countryListItems=a()},_appendListItems:function(e,t){for(var n="",i=0;i<e.length;i++)var o=e[i],n=(n=(n=(n+="<li class='country "+t+"' data-dial-code='"+o.dialCode+"' data-country-code='"+o.iso2+"'>")+("<div class='flag-box'><div class='iti-flag "+o.iso2+"'></div></div>"))+("<span class='country-name'>"+o.name+"</span>"))+("<span class='dial-code'>+"+o.dialCode+"</span>")+"</li>";this.countryList.append(n)},_setInitialState:function(){var e=this.telInput.val();this._getDialCode(e)&&!this._isRegionlessNanp(e)?this._updateFlagFromNumber(e):"auto"!==this.options.initialCountry&&(this.options.initialCountry?this._setFlag(this.options.initialCountry.toLowerCase()):(this.defaultCountry=(this.preferredCountries.length?this.preferredCountries:this.countries)[0].iso2,e||this._setFlag(this.defaultCountry)),e||this.options.nationalMode||this.options.autoHideDialCode||this.options.separateDialCode||this.telInput.val("+"+this.selectedCountryData.dialCode)),e&&this._updateValFromNumber(e)},_initListeners:function(){this._initKeyListeners(),this.options.autoHideDialCode&&this._initFocusListeners(),this.options.allowDropdown&&this._initDropdownListeners()},_initDropdownListeners:function(){var t=this,e=this.telInput.closest("label");e.length&&e.on("click"+this.ns,function(e){t.countryList.hasClass("hide")?t.telInput.focus():e.preventDefault()}),this.selectedFlagInner.parent().on("click"+this.ns,function(e){!t.countryList.hasClass("hide")||t.telInput.prop("disabled")||t.telInput.prop("readonly")||t._showDropdown()}),this.flagsContainer.on("keydown"+t.ns,function(e){!t.countryList.hasClass("hide")||e.which!=u&&e.which!=c&&e.which!=m&&e.which!=d||(e.preventDefault(),e.stopPropagation(),t._showDropdown()),e.which==o&&t._closeDropdown()})},_initRequests:function(){var e=this;this.options.utilsScript?a.fn[l].windowLoaded?a.fn[l].loadUtils(this.options.utilsScript,this.utilsScriptDeferred):a(r).on("load",function(){a.fn[l].loadUtils(e.options.utilsScript,e.utilsScriptDeferred)}):this.utilsScriptDeferred.resolve(),"auto"===this.options.initialCountry?this._loadAutoCountry():this.autoCountryDeferred.resolve()},_loadAutoCountry:function(){a.fn[l].autoCountry?this.handleAutoCountry():a.fn[l].startedLoadingAutoCountry||(a.fn[l].startedLoadingAutoCountry=!0,"function"==typeof this.options.geoIpLookup&&this.options.geoIpLookup(function(e){a.fn[l].autoCountry=e.toLowerCase(),setTimeout(function(){a(".intl-tel-input input").intlTelInput("handleAutoCountry")})}))},_initKeyListeners:function(){var e=this;this.telInput.on("keyup"+this.ns,function(){e._updateFlagFromNumber(e.telInput.val())&&e._triggerCountryChange()}),this.telInput.on("cut"+this.ns+" paste"+this.ns,function(){setTimeout(function(){e._updateFlagFromNumber(e.telInput.val())&&e._triggerCountryChange()})})},_cap:function(e){var t=this.telInput.attr("maxlength");return t&&e.length>t?e.substr(0,t):e},_initFocusListeners:function(){var n=this,e=(this.telInput.on("mousedown"+this.ns,function(e){n.telInput.is(":focus")||n.telInput.val()||(e.preventDefault(),n.telInput.focus())}),this.telInput.on("focus"+this.ns,function(e){n.telInput.val()||n.telInput.prop("readonly")||!n.selectedCountryData.dialCode||(n.telInput.val("+"+n.selectedCountryData.dialCode),n.telInput.one("keypress.plus"+n.ns,function(e){e.which==t&&n.telInput.val("")}),setTimeout(function(){var e,t=n.telInput[0];n.isGoodBrowser&&(e=n.telInput.val().length,t.setSelectionRange(e,e))}))}),this.telInput.prop("form"));e&&a(e).on("submit"+this.ns,function(){n._removeEmptyDialCode()}),this.telInput.on("blur"+this.ns,function(){n._removeEmptyDialCode()})},_removeEmptyDialCode:function(){var e=this.telInput.val();"+"!=e.charAt(0)||(e=this._getNumeric(e))&&this.selectedCountryData.dialCode!=e||this.telInput.val(""),this.telInput.off("keypress.plus"+this.ns)},_getNumeric:function(e){return e.replace(/\D/g,"")},_showDropdown:function(){this._setDropdownPosition();var e=this.countryList.children(".active");e.length&&(this._highlightListItem(e),this._scrollTo(e)),this._bindDropdownListeners(),this.selectedFlagInner.children(".iti-arrow").addClass("up")},_setDropdownPosition:function(){var e,t,n,i,o=this;this.options.dropdownContainer&&this.dropdown.appendTo(this.options.dropdownContainer),this.dropdownHeight=this.countryList.removeClass("hide").outerHeight(),this.isMobile||(t=(e=this.telInput.offset()).top,n=a(r).scrollTop(),i=t+this.telInput.outerHeight()+this.dropdownHeight<n+a(r).height(),n=t-this.dropdownHeight>n,this.countryList.toggleClass("dropup",!i&&n),this.options.dropdownContainer&&(i=!i&&n?0:this.telInput.innerHeight(),this.dropdown.css({top:t+i,left:e.left}),a(r).on("scroll"+this.ns,function(){o._closeDropdown()})))},_bindDropdownListeners:function(){var t=this,n=(this.countryList.on("mouseover"+this.ns,".country",function(e){t._highlightListItem(a(this))}),this.countryList.on("click"+this.ns,".country",function(e){t._selectListItem(a(this))}),!0),i=(a("html").on("click"+this.ns,function(e){n||t._closeDropdown(),n=!1}),""),o=null;a(e).on("keydown"+this.ns,function(e){e.preventDefault(),e.which==u||e.which==c?t._handleUpDownKey(e.which):e.which==d?t._handleEnterKey():e.which==h?t._closeDropdown():(e.which>=f&&e.which<=p||e.which==m)&&(o&&clearTimeout(o),i+=String.fromCharCode(e.which),t._searchForCountry(i),o=setTimeout(function(){i=""},1e3))})},_handleUpDownKey:function(e){var t=this.countryList.children(".highlight").first(),t=e==u?t.prev():t.next();t.length&&(t.hasClass("divider")&&(t=e==u?t.prev():t.next()),this._highlightListItem(t),this._scrollTo(t))},_handleEnterKey:function(){var e=this.countryList.children(".highlight").first();e.length&&this._selectListItem(e)},_searchForCountry:function(e){for(var t=0;t<this.countries.length;t++)if(this._startsWith(this.countries[t].name,e)){var n=this.countryList.children("[data-country-code="+this.countries[t].iso2+"]").not(".preferred");this._highlightListItem(n),this._scrollTo(n,!0);break}},_startsWith:function(e,t){return e.substr(0,t.length).toUpperCase()==t},_updateValFromNumber:function(e){var t;this.options.formatOnDisplay&&r.intlTelInputUtils&&this.selectedCountryData&&(t=this.options.separateDialCode||!this.options.nationalMode&&"+"==e.charAt(0)?intlTelInputUtils.numberFormat.INTERNATIONAL:intlTelInputUtils.numberFormat.NATIONAL,e=intlTelInputUtils.formatNumber(e,this.selectedCountryData.iso2,t)),e=this._beforeSetNumber(e),this.telInput.val(e)},_updateFlagFromNumber:function(e){e&&this.options.nationalMode&&"1"==this.selectedCountryData.dialCode&&"+"!=e.charAt(0)&&(e="+"+(e="1"!=e.charAt(0)?"1"+e:e));var t=this._getDialCode(e),n=null,i=this._getNumeric(e);if(t){var o=this.countryCodes[this._getNumeric(t)],r=-1<a.inArray(this.selectedCountryData.iso2,o),t="+1"==t&&4<=i.length;if(!("1"==this.selectedCountryData.dialCode&&this._isRegionlessNanp(i)||r&&!t))for(var s=0;s<o.length;s++)if(o[s]){n=o[s];break}}else"+"==e.charAt(0)&&i.length?n="":e&&"+"!=e||(n=this.defaultCountry);return null!==n&&this._setFlag(n)},_isRegionlessNanp:function(e){var e=this._getNumeric(e);return"1"==e.charAt(0)&&(e=e.substr(1,3),-1<a.inArray(e,g))},_highlightListItem:function(e){this.countryListItems.removeClass("highlight"),e.addClass("highlight")},_getCountryData:function(e,t,n){for(var i=t?b:this.countries,o=0;o<i.length;o++)if(i[o].iso2==e)return i[o];if(n)return null;throw new Error("No country data for '"+e+"'")},_setFlag:function(e){var t,n=this.selectedCountryData.iso2?this.selectedCountryData:{},i=(this.selectedCountryData=e?this._getCountryData(e,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),this.selectedFlagInner.attr("class","iti-flag "+e),e?this.selectedCountryData.name+": +"+this.selectedCountryData.dialCode:"Unknown");return this.selectedFlagInner.parent().attr("title",i),this.options.separateDialCode&&(i=this.selectedCountryData.dialCode?"+"+this.selectedCountryData.dialCode:"",t=this.telInput.parent(),n.dialCode&&t.removeClass("iti-sdc-"+(n.dialCode.length+1)),i&&t.addClass("iti-sdc-"+i.length),this.selectedDialCode.text(i)),this._updatePlaceholder(),this.countryListItems.removeClass("active"),e&&this.countryListItems.find(".iti-flag."+e).first().closest(".country").addClass("active"),n.iso2!==e},_updatePlaceholder:function(){var e="aggressive"===this.options.autoPlaceholder||!this.hadInitialPlaceholder&&(!0===this.options.autoPlaceholder||"polite"===this.options.autoPlaceholder);r.intlTelInputUtils&&e&&(e=intlTelInputUtils.numberType[this.options.placeholderNumberType],e=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,e):"",e=this._beforeSetNumber(e),"function"==typeof this.options.customPlaceholder&&(e=this.options.customPlaceholder(e,this.selectedCountryData)),this.telInput.attr("placeholder",e))},_selectListItem:function(e){var t=this._setFlag(e.attr("data-country-code"));this._closeDropdown(),this._updateDialCode(e.attr("data-dial-code"),!0),this.telInput.focus(),this.isGoodBrowser&&(e=this.telInput.val().length,this.telInput[0].setSelectionRange(e,e)),t&&this._triggerCountryChange()},_closeDropdown:function(){this.countryList.addClass("hide"),this.selectedFlagInner.children(".iti-arrow").removeClass("up"),a(e).off(this.ns),a("html").off(this.ns),this.countryList.off(this.ns),this.options.dropdownContainer&&(this.isMobile||a(r).off("scroll"+this.ns),this.dropdown.detach())},_scrollTo:function(e,t){var n=this.countryList,i=n.height(),o=n.offset().top,r=o+i,s=e.outerHeight(),e=e.offset().top,a=e+s,l=e-o+n.scrollTop(),u=i/2-s/2;e<o?(t&&(l-=u),n.scrollTop(l)):r<a&&(t&&(l+=u),n.scrollTop(l-(i-s)))},_updateDialCode:function(e,t){var n=this.telInput.val();if(e="+"+e,"+"==n.charAt(0))var i=this._getDialCode(n),i=i?n.replace(i,e):e;else{if(this.options.nationalMode||this.options.separateDialCode)return;if(n)i=e+n;else{if(!t&&this.options.autoHideDialCode)return;i=e}}this.telInput.val(i)},_getDialCode:function(e){var t="";if("+"==e.charAt(0))for(var n="",i=0;i<e.length;i++){var o=e.charAt(i);if(a.isNumeric(o)&&(n+=o,this.countryCodes[n]&&(t=e.substr(0,i+1)),4==n.length))break}return t},_getFullNumber:function(){var e=a.trim(this.telInput.val()),t=this.selectedCountryData.dialCode,n=this._getNumeric(e),n="1"==n.charAt(0)?n:"1"+n,n=this.options.separateDialCode?"+"+t:"+"!=e.charAt(0)&&"1"!=e.charAt(0)&&t&&"1"==t.charAt(0)&&4==t.length&&t!=n.substr(0,4)?t.substr(1):"";return n+e},_beforeSetNumber:function(e){var t;return this.options.separateDialCode&&(t=this._getDialCode(e))&&(t=" "===e[(t=null!==this.selectedCountryData.areaCodes?"+"+this.selectedCountryData.dialCode:t).length]||"-"===e[t.length]?t.length+1:t.length,e=e.substr(t)),this._cap(e)},_triggerCountryChange:function(){this.telInput.trigger("countrychange",this.selectedCountryData)},handleAutoCountry:function(){"auto"===this.options.initialCountry&&(this.defaultCountry=a.fn[l].autoCountry,this.telInput.val()||this.setCountry(this.defaultCountry),this.autoCountryDeferred.resolve())},handleUtils:function(){r.intlTelInputUtils&&(this.telInput.val()&&this._updateValFromNumber(this.telInput.val()),this._updatePlaceholder()),this.utilsScriptDeferred.resolve()},destroy:function(){var e;this.allowDropdown&&(this._closeDropdown(),this.selectedFlagInner.parent().off(this.ns),this.telInput.closest("label").off(this.ns)),this.options.autoHideDialCode&&(e=this.telInput.prop("form"))&&a(e).off(this.ns),this.telInput.off(this.ns),this.telInput.parent().before(this.telInput).remove()},getExtension:function(){return r.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""},getNumber:function(e){return r.intlTelInputUtils?intlTelInputUtils.formatNumber(this._getFullNumber(),this.selectedCountryData.iso2,e):""},getNumberType:function(){return r.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99},getSelectedCountryData:function(){return this.selectedCountryData},getValidationError:function(){return r.intlTelInputUtils?intlTelInputUtils.getValidationError(this._getFullNumber(),this.selectedCountryData.iso2):-99},isValidNumber:function(){var e=a.trim(this._getFullNumber()),t=this.options.nationalMode?this.selectedCountryData.iso2:"";return r.intlTelInputUtils?intlTelInputUtils.isValidNumber(e,t):null},setCountry:function(e){e=e.toLowerCase(),this.selectedFlagInner.hasClass(e)||(this._setFlag(e),this._updateDialCode(this.selectedCountryData.dialCode,!1),this._triggerCountryChange())},setNumber:function(e){var t=this._updateFlagFromNumber(e);this._updateValFromNumber(e),t&&this._triggerCountryChange()}},a.fn[l]=function(n){var i,t,o=arguments;return n===s||"object"==typeof n?(i=[],this.each(function(){var e,t;a.data(this,"plugin_"+l)||(t=(e=new v(this,n))._init(),i.push(t[0]),i.push(t[1]),a.data(this,"plugin_"+l,e))}),a.when.apply(null,i)):"string"==typeof n&&"_"!==n[0]?(this.each(function(){var e=a.data(this,"plugin_"+l);e instanceof v&&"function"==typeof e[n]&&(t=e[n].apply(e,Array.prototype.slice.call(o,1))),"destroy"===n&&a.data(this,"plugin_"+l,null)}),t!==s?t:this):void 0},a.fn[l].getCountryData=function(){return b},a.fn[l].loadUtils=function(e,t){a.fn[l].loadedUtilsScript?t&&t.resolve():(a.fn[l].loadedUtilsScript=!0,a.ajax({type:"GET",url:e,complete:function(){a(".intl-tel-input input").intlTelInput("handleUtils")},dataType:"script",cache:!0}))},a.fn[l].defaults=i,a.fn[l].version="11.0.10";for(var b=[["Afghanistan ()","af","93"],["Albania (Shqipri)","al","355"],["Algeria ()","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia ()","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (sterreich)","at","43"],["Azerbaijan (Azrbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain ()","bh","973"],["Bangladesh ()","bd","880"],["Barbados","bb","1246"],["Belarus ()","by","375"],["Belgium (Belgi)","be","32"],["Belize","bz","501"],["Benin (Bnin)","bj","229"],["Bermuda","bm","1441"],["Bhutan ()","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (  )","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria ()","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia ()","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (Rpublique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China ()","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros ( )","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Cte dIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaao","cw","599",0],["Cyprus ()","cy","357"],["Czech Republic (esk republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Repblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt ()","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Froyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane franaise)","gf","594"],["French Polynesia (Polynsie franaise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia ()","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece ()","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guine)","gn","224"],["Guinea-Bissau (Guin Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong ()","hk","852"],["Hungary (Magyarorszg)","hu","36"],["Iceland (sland)","is","354"],["India ()","in","91"],["Indonesia","id","62"],["Iran ()","ir","98"],["Iraq ()","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel ()","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan ()","jp","81"],["Jersey","je","44",3],["Jordan ()","jo","962"],["Kazakhstan ()","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait ()","kw","965"],["Kyrgyzstan ()","kg","996"],["Laos ()","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon ()","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya ()","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau ()","mo","853"],["Macedonia (FYROM) ()","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania ()","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (Mxico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia ()","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco ()","ma","212",0],["Mozambique (Moambique)","mz","258"],["Myanmar (Burma) ()","mm","95"],["Namibia (Namibi)","na","264"],["Nauru","nr","674"],["Nepal ()","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Caldonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (   )","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman ()","om","968"],["Pakistan ()","pk","92"],["Palau","pw","680"],["Palestine ()","ps","970"],["Panama (Panam)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar ()","qa","974"],["Runion (La Runion)","re","262",0],["Romania (Romnia)","ro","40"],["Russia ()","ru","7",0],["Rwanda","rw","250"],["Saint Barthlemy (Saint-Barthlemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie franaise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe (So Tom e Prncipe)","st","239"],["Saudi Arabia (  )","sa","966"],["Senegal (Sngal)","sn","221"],["Serbia ()","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea ()","kr","82"],["South Sudan ( )","ss","211"],["Spain (Espaa)","es","34"],["Sri Lanka ( )","lk","94"],["Sudan ()","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria ()","sy","963"],["Taiwan ()","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand ()","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia ()","tn","216"],["Turkey (Trkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine ()","ua","380"],["United Arab Emirates (  )","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Ozbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Vit Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Western Sahara ( )","eh","212",1],["Yemen ()","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["land Islands","ax","358",1]],y=0;y<b.length;y++){var x=b[y];b[y]={name:x[0],iso2:x[1],dialCode:x[2],priority:x[3]||0,areaCodes:x[4]||null}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(s){function a(e){return parseFloat(e)||0}function l(e){var i=null,o=[];return s(e).each(function(){var e=s(this),t=e.offset().top-a(e.css("margin-top")),n=0<o.length?o[o.length-1]:null;null!==n&&Math.floor(Math.abs(i-t))<=1?o[o.length-1]=n.add(e):o.push(e),i=t}),o}function u(e){var t={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?s.extend(t,e):("boolean"==typeof e?t.byRow=e:"remove"===e&&(t.remove=!0),t)}function i(e){c._beforeUpdate&&c._beforeUpdate(e,c._groups),s.each(c._groups,function(){c._apply(this.elements,this.options)}),c._afterUpdate&&c._afterUpdate(e,c._groups)}var o=-1,r=-1,c=s.fn.matchHeight=function(e){var n,e=u(e);return e.remove?((n=this).css(e.property,""),s.each(c._groups,function(e,t){t.elements=t.elements.not(n)})):this.length<=1&&!e.target||(c._groups.push({elements:this,options:e}),c._apply(this,e)),this},e=(c.version="master",c._groups=[],c._throttle=80,c._maintainScroll=!1,c._beforeUpdate=null,c._afterUpdate=null,c._rows=l,c._parse=a,c._parseOptions=u,c._apply=function(e,t){var o=u(t),t=s(e),e=[t],n=s(window).scrollTop(),i=s("html").outerHeight(!0),r=t.parents().filter(":hidden");return r.each(function(){var e=s(this);e.data("style-cache",e.attr("style"))}),r.css("display","block"),o.byRow&&!o.target&&(t.each(function(){var e=s(this),t=e.css("display");"inline-block"!==t&&"flex"!==t&&"inline-flex"!==t&&(t="block"),e.data("style-cache",e.attr("style")),e.css({display:t,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),e=l(t),t.each(function(){var e=s(this);e.attr("style",e.data("style-cache")||"")})),s.each(e,function(e,t){var t=s(t),i=0;if(o.target)i=o.target.outerHeight(!1);else{if(o.byRow&&t.length<=1)return void t.css(o.property,"");t.each(function(){var e=s(this),t=e.attr("style"),n=e.css("display"),n={display:n="inline-block"!==n&&"flex"!==n&&"inline-flex"!==n?"block":n};n[o.property]="",e.css(n),e.outerHeight(!1)>i&&(i=e.outerHeight(!1)),t?e.attr("style",t):e.css("display","")})}t.each(function(){var e=s(this),t=0;o.target&&e.is(o.target)||("border-box"!==e.css("box-sizing")&&(t=(t+=a(e.css("border-top-width"))+a(e.css("border-bottom-width")))+(a(e.css("padding-top"))+a(e.css("padding-bottom")))),e.css(o.property,i-t+"px"))})}),r.each(function(){var e=s(this);e.attr("style",e.data("style-cache")||null)}),c._maintainScroll&&s(window).scrollTop(n/i*s("html").outerHeight(!0)),this},c._applyDataApi=function(){var n={};s("[data-match-height], [data-mh]").each(function(){var e=s(this),t=e.attr("data-mh")||e.attr("data-match-height");n[t]=t in n?n[t].add(e):e}),s.each(n,function(){this.matchHeight(!0)})},c._update=function(e,t){if(t&&"resize"===t.type){var n=s(window).width();if(n===o)return;o=n}e?-1===r&&(r=setTimeout(function(){i(t),r=-1},c._throttle)):i(t)},s(c._applyDataApi),s.fn.on?"on":"bind");s(window)[e]("load",function(e){c._update(!1,e)}),s(window)[e]("resize orientationchange",function(e){c._update(!0,e)})}),function(t,n){"use strict";if("function"==typeof define&&define.amd&&define.amd.jQuery)define(["jquery"],function(e){return n(e,t)});else{if("object"!=typeof exports)return n(t.jQuery||t.$,t);module.exports=n}}(this,function(x,l){"use strict";function w(t,n){A.debug(t,["Checking mock data against request data",t,n]);var i=!0;if(x.isFunction(t))return!!t(n);if("string"==typeof n){if(x.isFunction(t.test))return t.test(n);if("object"!=typeof t)return t===n;n=function(e){var t,n,i,o,r={},s=String(e).split(/&/);for(t=0,n=s.length;t<n;++t){i=s[t];try{i=(i=decodeURIComponent(i.replace(/\+/g," "))).split(/=/)}catch(e){continue}r[i[0]]?(r[i[0]].splice||(o=r[i[0]],r[i[0]]=[],r[i[0]].push(o)),r[i[0]].push(i[1])):r[i[0]]=i[1]}return A.debug(null,["Getting query params from string",e,r]),r}(n)}return x.each(t,function(e){return void 0===n[e]?i=!1:void(i="object"==typeof n[e]&&null!==n[e]?(i=i&&x.isArray(n[e])?x.isArray(t[e])&&n[e].length===t[e].length:i)&&w(t[e],n[e]):t[e]&&x.isFunction(t[e].test)?i&&t[e].test(n[e]):i&&t[e]===n[e])}),i}function s(e,t){return e[t]===x.mockjaxSettings[t]}function i(e){return"number"==typeof e&&0<=e}function a(e){if(x.isArray(e)&&2===e.length){var t=e[0],n=e[1];if(i(t)&&i(n))return Math.floor(Math.random()*(n-t))+t}else if(i(e))return e;return o}function E(t,n,i){A.debug(t,["Sending fake XHR request",t,n,i]);o=this;var o,r=function(){return function(){this.status=t.status,this.statusText=t.statusText,this.readyState=1;function e(){var e;this.readyState=4,"json"===n.dataType&&"object"==typeof t.responseText?this.responseText=JSON.stringify(t.responseText):"xml"===n.dataType?"string"==typeof t.responseXML?(this.responseXML=function(t){void 0===l.DOMParser&&l.ActiveXObject&&(l.DOMParser=function(){},DOMParser.prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t});try{var e=(new DOMParser).parseFromString(t,"text/xml");if(!x.isXMLDoc(e))throw new Error("Unable to parse XML");if(1===x("parsererror",e).length)throw new Error("Error: "+x(e).text());return e}catch(e){t=void 0===e.name?e:e.name+": "+e.message;x(document).trigger("xmlParseError",[t])}}(t.responseXML),this.responseText=t.responseXML):this.responseXML=t.responseXML:"object"==typeof t.responseText&&null!==t.responseText?(t.contentType="application/json",this.responseText=JSON.stringify(t.responseText)):this.responseText=t.responseText,"number"!=typeof t.status&&"string"!=typeof t.status||(this.status=t.status),"string"==typeof t.statusText&&(this.statusText=t.statusText),e=this.onload||this.onreadystatechange,x.isFunction(e)?(t.isTimeout&&(this.status=-1),e.call(this,t.isTimeout?"timeout":void 0)):t.isTimeout&&(this.status=-1)}if(x.isFunction(t.response)){if(2===t.response.length)return void t.response(i,function(){e.call(o)});t.response(i)}e.call(o)}.apply(o)};t.proxy?(A.info(t,["Retrieving proxy file: "+t.proxy,t]),S({global:!1,url:t.proxy,type:t.proxyType,data:t.data,async:n.async,dataType:"script"===n.dataType?"text/plain":n.dataType,complete:function(e){t.responseXML=t.responseText=e.responseText,s(t,"status")&&(t.status=e.status),s(t,"statusText")&&(t.statusText=e.statusText),!1===n.async?r():this.responseTimer=setTimeout(r,a(t.responseTime))}})):!1===n.async?r():this.responseTimer=setTimeout(r,a(t.responseTime))}function C(e,t,n){if("GET"===(a=e).type.toUpperCase()?h.test(a.url)||(a.url+=(/\?/.test(a.url)?"&":"?")+(a.jsonp||"callback")+"=?"):a.data&&h.test(a.data)||(a.data=(a.data?a.data+"&":"")+(a.jsonp||"callback")+"=?"),e.dataType="json",e.data&&h.test(e.data)||h.test(e.url)){i=e,o=t,r=(a=n)&&a.context||i,s="string"==typeof i.jsonpCallback&&i.jsonpCallback||"jsonp"+f++,i.data&&(i.data=(i.data+"").replace(h,"="+s+"$1")),i.url=i.url.replace(h,"="+s+"$1"),l[s]=l[s]||function(){c(i,r,o),d(i,r),l[s]=void 0;try{delete l[s]}catch(e){}},i.jsonpCallback=s;a=/^(\w+:)?\/\/([^\/?#]+)/.exec(e.url),a=a&&(a[1]&&a[1]!==location.protocol||a[2]!==location.host);if(e.dataType="script","GET"===e.type.toUpperCase()&&a)return!(a=function(t,n,e){A.debug(n,["Performing JSONP request",n,t,e]);var i=e&&e.context||t,o=x.Deferred?new x.Deferred:null;if(n.response&&x.isFunction(n.response))n.response(e);else if("object"==typeof n.responseText)x.globalEval("("+JSON.stringify(n.responseText)+")");else{if(n.proxy)return A.info(n,["Performing JSONP proxy request: "+n.proxy,n]),S({global:!1,url:n.proxy,type:n.proxyType,data:n.data,dataType:"script"===t.dataType?"text/plain":t.dataType,complete:function(e){x.globalEval("("+e.responseText+")"),u(t,n,i,o)}}),o;x.globalEval("("+("string"==typeof n.responseText?'"'+n.responseText+'"':n.responseText)+")")}return u(t,n,i,o),o}(e,t,n))||a}var i,o,r,s,a;return null}function u(e,t,n,i){var o;setTimeout(function(){if(c(e,n,t),d(e,n),i){try{o=x.parseJSON(t.responseText)}catch(e){}i.resolveWith(n,[o||t.responseText]),A.log(t,["JSONP mock call complete",t,i])}},a(t.responseTime))}function c(e,t,n){e.success&&e.success.call(t,n.responseText||"","success",{}),e.global&&(e.context?x(e.context):x.event).trigger("ajaxSuccess",[{},e])}function d(e,t){e.complete&&e.complete.call(t,{statusText:"success",status:200},"success"),e.global&&(e.context?x(e.context):x.event).trigger("ajaxComplete",[{},e]),e.global&&!--x.active&&x.event.trigger("ajaxStop")}var S=x.ajax,T=[],I=[],_=[],h=/=\?(&|$)/,f=(new Date).getTime(),o=500,A=(x.extend({ajax:function(e,i){var t,n,o;A.debug(null,["Ajax call intercepted",e,i]),"object"==typeof e?(i=e,e=void 0):(i=i||{}).url=e||i.url,(n=x.ajaxSetup({},i)).type=n.method=n.method||n.type;for(var r=function(e,t){var n=i[e.toLowerCase()];return function(){x.isFunction(n)&&n.apply(this,[].slice.call(arguments)),t["onAfter"+e]()}},s=0;s<T.length;s++)if(T[s]){if(o=function(e,n){if(x.isFunction(e))return e(n);if(x.isFunction(e.url.test)){if(!e.url.test(n.url))return null}else{var t=e.namespace||x.mockjaxSettings.namespace,t=(t&&(t=[t.replace(/(\/+)$/,""),e.url.replace(/^(\/+)/,"")].join("/"),e.url=t),e.url.indexOf("*"));if(e.url!==n.url&&-1===t||!new RegExp(e.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".+")).test(n.url))return null}if(e.requestHeaders){if(void 0===n.headers)return null;var i=!1;if(x.each(e.requestHeaders,function(e,t){if(n.headers[e]!==t)return!(i=!0)}),i)return null}return!(!e.data||n.data&&w(e.data,n.data))||e&&e.type&&e.type.toLowerCase()!==n.type.toLowerCase()?null:e}(T[s],n)){x.mockjaxSettings.retainAjaxCalls&&I.push(n),A.info(o,["MOCK "+n.type.toUpperCase()+": "+n.url,x.ajaxSetup({},n)]);if(!n.dataType||"JSONP"!==n.dataType.toUpperCase()||!(t=C(n,o,i))){i.crossDomain=!1,o.cache=n.cache,o.timeout=n.timeout,o.global=n.global,o.isTimeout&&(1<o.responseTime?i.timeout=o.responseTime-1:(o.responseTime=2,i.timeout=1)),x.isFunction(o.onAfterSuccess)&&(i.success=r("Success",o)),x.isFunction(o.onAfterError)&&(i.error=r("Error",o)),x.isFunction(o.onAfterComplete)&&(i.complete=r("Complete",o));{var a=o;var l=i;if(a.url instanceof RegExp&&a.hasOwnProperty("urlParams")){var u=a.url.exec(l.url);if(1!==u.length){u.shift();for(var c=0,d=u.length,h=a.urlParams.length,f=Math.min(d,h),p={};c<f;c++){var m=a.urlParams[c];p[m]=u[c]}l.urlParams=p}}}{var g=o;var v=n;var b=i;var y=T[s];t=S.call(x,x.extend(!0,{},b,{xhr:function(){return t=g,n=v,e=b,i=y,A.debug(t,["Creating new mock XHR object",t,n,e,i]),void 0===(t=x.extend(!0,{},x.mockjaxSettings,t)).headers&&(t.headers={}),void 0===n.headers&&(n.headers={}),t.contentType&&(t.headers["content-type"]=t.contentType),{status:t.status,statusText:t.statusText,readyState:1,open:function(){},send:function(){i.fired=!0,E.call(this,t,n,e)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(e,t){n.headers[e]=t},getResponseHeader:function(e){return t.headers&&t.headers[e]?t.headers[e]:"last-modified"===e.toLowerCase()?t.lastModified||(new Date).toString():"etag"===e.toLowerCase()?t.etag||"":"content-type"===e.toLowerCase()?t.contentType||"text/plain":void 0},getAllResponseHeaders:function(){var n="";return t.contentType&&(t.headers["Content-Type"]=t.contentType),x.each(t.headers,function(e,t){n+=e+": "+t+"\n"}),n}};var t,n,e,i}}))}}return t}A.debug(T[s],["Mock does not match request",e,n])}if(A.log(null,["No mock matched to request",e,i]),x.mockjaxSettings.retainAjaxCalls&&_.push(i),!0===x.mockjaxSettings.throwUnmocked)throw new Error("AJAX not mocked: "+i.url);return S.apply(x,[i])}}),{_log:function(e,t,n){var i=x.mockjaxSettings.logging;if(e&&void 0!==e.logging&&(i=e.logging),n=0===n?n:n||r.LOG,t=t.splice?t:[t],!(!1===i||i<n))return x.mockjaxSettings.log?x.mockjaxSettings.log(e,t[1]||t[0]):x.mockjaxSettings.logger&&x.mockjaxSettings.logger[x.mockjaxSettings.logLevelMethods[n]]?x.mockjaxSettings.logger[x.mockjaxSettings.logLevelMethods[n]].apply(x.mockjaxSettings.logger,t):void 0},debug:function(e,t){return A._log(e,t,r.DEBUG)},log:function(e,t){return A._log(e,t,r.LOG)},info:function(e,t){return A._log(e,t,r.INFO)},warn:function(e,t){return A._log(e,t,r.WARN)},error:function(e,t){return A._log(e,t,r.ERROR)}}),r={DEBUG:4,LOG:3,INFO:2,WARN:1,ERROR:0};return x.mockjaxSettings={log:null,logger:l.console,logging:2,logLevelMethods:["error","warn","info","log","debug"],namespace:null,status:200,statusText:"OK",responseTime:o,isTimeout:!1,throwUnmocked:!1,retainAjaxCalls:!0,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},x.mockjax=function(e){var t;return x.isArray(e)?x.map(e,function(e){return x.mockjax(e)}):(t=T.length,T[t]=e,A.log(e,["Created new mock handler",e]),t)},x.mockjax._logger=A,x.mockjax.clear=function(e){"string"==typeof e||e instanceof RegExp?T=function(t){for(var e,n=[],i=t instanceof RegExp?function(e){return t.test(e)}:function(e){return t===e},o=0,r=T.length;o<r;o++)i((e=T[o]).url)?A.log(e,["Clearing mock: "+(e&&e.url),e]):n.push(e);return n}(e):e||0===e?(A.log(T[e],["Clearing mock: "+(T[e]&&T[e].url),T[e]]),T[e]=null):(A.log(null,"Clearing all mocks"),T=[]),I=[],_=[]},x.mockjax.clearRetainedAjaxCalls=function(){I=[],_=[],A.debug(null,"Cleared retained ajax calls")},x.mockjax.handler=function(e){if(1===arguments.length)return T[e]},x.mockjax.mockedAjaxCalls=function(){return I},x.mockjax.unfiredHandlers=function(){for(var e=[],t=0,n=T.length;t<n;t++){var i=T[t];null===i||i.fired||e.push(i)}return e},x.mockjax.unmockedAjaxCalls=function(){return _},x.mockjax}),function(e){var t,n,i=!1;"function"==typeof define&&define.amd&&(define(e),i=!0),"object"==typeof exports&&(module.exports=e(),i=!0),i||(t=window.Cookies,(n=window.Cookies=e()).noConflict=function(){return window.Cookies=t,n})}(function(){function m(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}return function e(f){function p(e,t,n){var i,o;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(n=m({path:"/"},p.defaults,n)).expires&&((o=new Date).setMilliseconds(o.getMilliseconds()+864e5*n.expires),n.expires=o),n.expires=n.expires?n.expires.toUTCString():"";try{i=JSON.stringify(t),/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=f.write?f.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var r,s="";for(r in n)n[r]&&(s+="; "+r,!0!==n[r])&&(s+="="+n[r]);return document.cookie=e+"="+t+s}e||(i={});for(var a=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,u=0;u<a.length;u++){var c=a[u].split("="),d=c.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var h=c[0].replace(l,decodeURIComponent),d=f.read?f.read(d,h):f(d,h)||d.replace(l,decodeURIComponent);if(this.json)try{d=JSON.parse(d)}catch(e){}if(e===h){i=d;break}e||(i[h]=d)}catch(e){}}return i}}return(p.set=p).get=function(e){return p.call(p,e)},p.getJSON=function(){return p.apply({json:!0},[].slice.call(arguments))},p.defaults={},p.remove=function(e,t){p(e,"",m(t,{expires:-1}))},p.withConverter=e,p}(function(){})});